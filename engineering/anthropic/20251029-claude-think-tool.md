# "think"工具：让Claude在复杂工具使用情景中停下来思考

**发布日期：2025年3月20日**

## 概述

Anthropic发布了一种新的"think"工具，通过为结构化思维创建专用空间，显著改进了Claude在复杂问题解决中的表现。这个工具与Claude的扩展思维（extended thinking）能力不同，后者是模型在开始生成响应前的思考过程，而"think"工具允许模型在生成响应的过程中停下来思考。

## 什么是"think"工具？

"think"工具为Claude提供了一个额外的思考步骤，包括专用的思考空间，是获得最终答案的一部分。

关键区别：

- **扩展思维**：模型在开始响应前进行深度思考和迭代规划
- **"think"工具**：在生成响应过程中，当需要时停下来思考是否拥有所有必要信息

"think"工具更适合Claude缺乏信息需要处理外部信息（如工具调用结果）的情景。

## 实现示例

```json
{
  "name": "think",
  "description": "使用此工具进行思考。它不会获取新信息或改变数据库，只是将思想附加到日志中。当需要复杂推理或某种缓存内存时使用。",
  "input_schema": {
    "type": "object",
    "properties": {
      "thought": {
        "type": "string",
        "description": "要思考的内容。"
      }
    },
    "required": ["thought"]
  }
}
```

## τ-Bench性能评估

在航空和零售客服场景的τ-Bench基准测试中，"think"工具表现卓越：

### 航空领域
- **优化提示+think工具**：pass^1为0.570（相比基础方案0.370提升54%）
- **think工具单独使用**：pass^1为0.404
- **扩展思维**：pass^1为0.412
- **基础方案**：pass^1为0.332

### 零售领域
- **think工具**（无额外提示）：pass^1为0.812
- **扩展思维**：pass^1为0.770
- **基础方案**：pass^1为0.783

![航空领域性能对比](https://www-cdn.anthropic.com/images/4zrzovbb/website/ff91e5c84be59ae71306bcc60adba9affed86484-2200x1300.jpg)

## 优化提示示例

对复杂域名（如航空服务），配合以下指导最有效：

```
## 使用think工具

在接收工具结果后采取任何行动或响应用户前，将think工具作为草稿板使用：
- 列出适用于当前请求的具体规则
- 检查是否已收集所有必需信息
- 验证计划操作符合所有政策
- 迭代检查工具结果的正确性

具体包括检查取消规则是否在预订24小时内、会员等级相关收费、支付方式组合验证等。
```

## 关键见解

1. **复杂域名需要提示指导**：域名越复杂，配合优化提示效果越明显
2. **试验中保持一致性**：改进在pass^k到k=5时保持，表明工具有助于处理边界情况

## SWE-Bench性能

在代码编辑基准测试中，"think"工具改进了1.6%的性能（统计显著：p < .001）。

```json
{
  "name": "think",
  "description": "使用此工具进行思考。不会获取新信息或改变代码库，只记录思想。当需要复杂推理或头脑风暴时使用。例如，若发现bug来源，可用此工具头脑风暴多种修复方法并评估最简最有效的改动。",
  "input_schema": {
    "type": "object",
    "properties": {
      "thought": {
        "type": "string",
        "description": "您的思想。"
      }
    },
    "required": ["thought"]
  }
}
```

## 何时使用"think"工具

最有效的应用场景：

1. **工具输出分析**：Claude需仔细处理先前工具调用的输出
2. **政策重型环境**：需遵循详细指导方针并验证合规性
3. **顺序决策制定**：每个行动基于前一个，错误成本高

## 最佳实践

### 1. 带域名特定示例的战略提示
提供明确指导说明何时及如何使用工具，包含针对您特定用例的示例。

### 2. 在系统提示中放置复杂指导
对于长或复杂的指导，在系统提示中包含比在工具描述中更有效。

## 何时避免使用"think"工具

不适用场景：

1. **非顺序工具调用**：单个或平行工具调用完成任务
2. **简单指令遵循**：约束少，默认行为已充分

## 快速开始

1. **使用代理工具场景测试**：从Claude目前在政策合规或长工具链中苦恼的具有挑战性的用例开始
2. **添加工具定义**：实现针对您域名定制的"think"工具
3. **监控并优化**：观察实践使用并调整提示以鼓励更有效的思考模式

## 结论

"think"工具已证明能显著增强Claude 3.7 Sonnet在需要政策遵守和长工具调用链推理的复杂任务中的表现。虽非一刀切解决方案，但在正确用例中以最少实现复杂度提供实质性收益。

---

*注：τ-Bench结果聚焦于Claude 3.7 Sonnet，但实验显示Claude 3.5 Sonnet（New）也可在相同配置下获得性能提升。*
