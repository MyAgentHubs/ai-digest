<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ - Anthropic Engineering å®è·µ</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="æœ¬æ–‡æ˜¯ Anthropic åŸºäºæ•°åƒä¸ªç”Ÿäº§ç³»ç»Ÿçš„å®è·µæ€»ç»“ï¼Œç³»ç»Ÿé˜è¿°äº† AI Agent æ¶æ„è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™ï¼šä»ç®€å•å·¥ä½œæµåˆ°è‡ªä¸»æ™ºèƒ½ä½“çš„å…­ç§æ¨¡å¼ï¼ˆæç¤ºé“¾ã€è·¯ç”±ã€å¹¶è¡ŒåŒ–ã€ç¼–æ’-å·¥ä½œè€…ã€è¯„ä¼°-ä¼˜åŒ–ã€è‡ªä¸» Agentï¼‰ï¼Œä»¥åŠä½•æ—¶ä½¿ç”¨ç¡®å®šæ€§å·¥ä½œæµã€ä½•æ—¶éœ€è¦è‡ªä¸»å†³ç­–çš„åˆ¤æ–­å‡†åˆ™ã€‚æ–‡ç« å¼ºè°ƒç®€æ´ä¼˜äºå¤æ‚çš„è®¾è®¡å“²å­¦ï¼Œæä¾›äº†å®Œæ•´çš„æ¶æ„å†³ç­–æ£€æŸ¥æ¸…å•ã€åæ¨¡å¼è­¦å‘Šå’ŒçœŸå®æ¡ˆä¾‹åˆ†æï¼ˆå®¢æˆ·æ”¯æŒã€SWE-bench ç¼–ç ä»»åŠ¡ï¼‰ï¼Œæ˜¯æ„å»ºç”Ÿäº§çº§ Agent ç³»ç»Ÿçš„æƒå¨å®è·µæŒ‡å—ã€‚">
    <meta name="author" content="Anthropic Engineering Team">
    <meta name="keywords" content="Anthropic, AI, Claude, äººå·¥æ™ºèƒ½, å·¥ç¨‹å®è·µ, AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ">

    <!-- Open Graph Tags (Facebook, LinkedIn, Slack) -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ">
    <meta property="og:description" content="æœ¬æ–‡æ˜¯ Anthropic åŸºäºæ•°åƒä¸ªç”Ÿäº§ç³»ç»Ÿçš„å®è·µæ€»ç»“ï¼Œç³»ç»Ÿé˜è¿°äº† AI Agent æ¶æ„è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™ï¼šä»ç®€å•å·¥ä½œæµåˆ°è‡ªä¸»æ™ºèƒ½ä½“çš„å…­ç§æ¨¡å¼ï¼ˆæç¤ºé“¾ã€è·¯ç”±ã€å¹¶è¡ŒåŒ–ã€ç¼–æ’-å·¥ä½œè€…ã€è¯„ä¼°-ä¼˜åŒ–ã€è‡ªä¸» Agentï¼‰ï¼Œä»¥åŠä½•æ—¶ä½¿ç”¨ç¡®å®šæ€§å·¥ä½œæµã€ä½•æ—¶éœ€è¦è‡ªä¸»å†³ç­–çš„åˆ¤æ–­å‡†åˆ™ã€‚æ–‡ç« å¼ºè°ƒç®€æ´ä¼˜äºå¤æ‚çš„è®¾è®¡å“²å­¦ï¼Œæä¾›äº†å®Œæ•´çš„æ¶æ„å†³ç­–æ£€æŸ¥æ¸…å•ã€åæ¨¡å¼è­¦å‘Šå’ŒçœŸå®æ¡ˆä¾‹åˆ†æï¼ˆå®¢æˆ·æ”¯æŒã€SWE-bench ç¼–ç ä»»åŠ¡ï¼‰ï¼Œæ˜¯æ„å»ºç”Ÿäº§çº§ Agent ç³»ç»Ÿçš„æƒå¨å®è·µæŒ‡å—ã€‚">
    <meta property="og:url" content="https://myagenthubs.github.io/ai-digest/engineering/anthropic/20251029-building-effective-agents.html">
    <meta property="og:site_name" content="Anthropic Engineering ä¸­æ–‡å®è·µ">
    <meta property="og:image" content="https://myagenthubs.github.io/ai-digest/images/default-og.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="zh_CN">

    <!-- Article Specific OG Tags -->
    <meta property="article:published_time" content="2024-12-19">
    <meta property="article:author" content="Anthropic">
    <meta property="article:section" content="Engineering">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ">
    <meta name="twitter:description" content="æœ¬æ–‡æ˜¯ Anthropic åŸºäºæ•°åƒä¸ªç”Ÿäº§ç³»ç»Ÿçš„å®è·µæ€»ç»“ï¼Œç³»ç»Ÿé˜è¿°äº† AI Agent æ¶æ„è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™ï¼šä»ç®€å•å·¥ä½œæµåˆ°è‡ªä¸»æ™ºèƒ½ä½“çš„å…­ç§æ¨¡å¼ï¼ˆæç¤ºé“¾ã€è·¯ç”±ã€å¹¶è¡ŒåŒ–ã€ç¼–æ’-å·¥ä½œè€…ã€è¯„ä¼°-ä¼˜åŒ–ã€è‡ªä¸» Agentï¼‰ï¼Œä»¥åŠä½•æ—¶ä½¿ç”¨ç¡®å®šæ€§å·¥ä½œæµã€ä½•æ—¶éœ€è¦è‡ªä¸»å†³ç­–çš„åˆ¤æ–­å‡†åˆ™ã€‚æ–‡ç« å¼ºè°ƒç®€æ´ä¼˜äºå¤æ‚çš„è®¾è®¡å“²å­¦ï¼Œæä¾›äº†å®Œæ•´çš„æ¶æ„å†³ç­–æ£€æŸ¥æ¸…å•ã€åæ¨¡å¼è­¦å‘Šå’ŒçœŸå®æ¡ˆä¾‹åˆ†æï¼ˆå®¢æˆ·æ”¯æŒã€SWE-bench ç¼–ç ä»»åŠ¡ï¼‰ï¼Œæ˜¯æ„å»ºç”Ÿäº§çº§ Agent ç³»ç»Ÿçš„æƒå¨å®è·µæŒ‡å—ã€‚">
    <meta name="twitter:image" content="https://myagenthubs.github.io/ai-digest/images/default-og.png">
    <meta name="twitter:site" content="@AnthropicAI">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #191A1A;
            --secondary-color: #CC785C;
            --text-color: #2D2D2D;
            --text-light: #666;
            --bg-color: #FAFAF8;
            --code-bg: #F5F2ED;
            --border-color: #E5E5E5;
            --link-color: #CC785C;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;
            line-height: 1.8;
            color: var(--text-color);
            background: var(--bg-color);
            font-size: 16px;
            padding-top: 60px; /* ä¸ºé¡¶éƒ¨å¯¼èˆªæ ç•™å‡ºç©ºé—´ */
        }

        /* é˜…è¯»è¿›åº¦æ¡ */
        #reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, var(--secondary-color), #E89A7F);
            z-index: 1001;
            transition: width 0.1s ease;
        }

        /* é¡¶éƒ¨é¢åŒ…å±‘å¯¼èˆª */
        .breadcrumb-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            padding: 12px 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .breadcrumb-content {
            max-width: 920px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.9rem;
        }

        .breadcrumb-nav a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.2s;
        }

        .breadcrumb-nav a:hover {
            opacity: 0.7;
        }

        .breadcrumb-separator {
            color: var(--text-light);
        }

        .breadcrumb-current {
            color: var(--text-color);
            font-weight: 500;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 600px;
        }

        /* æµ®åŠ¨å›é¡¶æŒ‰é’® */
        #back-to-top {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 56px;
            height: 56px;
            background: var(--secondary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(204, 120, 92, 0.3);
            z-index: 999;
        }

        #back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        #back-to-top:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(204, 120, 92, 0.4);
        }

        #back-to-top svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        /* åœ†å½¢è¿›åº¦ç¯ */
        #back-to-top .progress-ring {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        #back-to-top .progress-ring-circle {
            stroke: rgba(255, 255, 255, 0.3);
            stroke-width: 2;
            fill: none;
        }

        #back-to-top .progress-ring-progress {
            stroke: white;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 164;
            stroke-dashoffset: 164;
            transition: stroke-dashoffset 0.1s ease;
        }

        .container {
            max-width: 920px;
            margin: 0 auto;
            padding: 60px 24px;
        }

        /* å¤´éƒ¨ */
        header {
            margin-bottom: 48px;
            padding-bottom: 32px;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .meta-label {
            font-weight: 500;
        }

        .author {
            color: var(--secondary-color);
            font-weight: 600;
        }

        /* ç›®å½• */
        .toc {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 48px;
        }

        .toc-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--primary-color);
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin: 8px 0;
        }

        .toc a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.2s;
        }

        .toc a:hover {
            color: var(--link-color);
        }

        /* å†…å®¹åŒºåŸŸ */
        .content {
            background: white;
            border-radius: 8px;
            padding: 48px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary-color);
            margin: 48px 0 24px 0;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--secondary-color);
        }

        h2:first-child {
            margin-top: 0;
        }

        h3 {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            margin: 32px 0 16px 0;
        }

        h4 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin: 24px 0 12px 0;
        }

        p {
            margin: 16px 0;
            line-height: 1.8;
        }

        /* åˆ—è¡¨ */
        ul, ol {
            margin: 16px 0;
            padding-left: 28px;
        }

        li {
            margin: 8px 0;
        }

        /* é“¾æ¥ */
        a {
            color: var(--link-color);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        a:hover {
            border-bottom-color: var(--link-color);
        }

        /* ä»£ç  */
        code {
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.9em;
            color: #d73a49;
        }

        pre {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 20px;
            margin: 24px 0;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: break-word;
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text-color);
            font-size: 0.9rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* ASCII è‰ºæœ¯ */
        pre.ascii-art {
            background: #fafafa;
            border: 1px solid #ddd;
            font-family: "Courier New", Consolas, Monaco, monospace;
            font-size: 0.85rem;
            line-height: 1.2;
            white-space: pre;
            overflow-x: auto;
            color: #333;
        }

        /* Mermaid å›¾è¡¨ */
        .mermaid {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 24px;
            margin: 32px 0;
            text-align: center;
            overflow-x: auto;
        }

        pre.mermaid {
            background: white;
            text-align: center;
        }

        /* å¼•ç”¨ */
        blockquote {
            border-left: 4px solid var(--secondary-color);
            padding-left: 20px;
            margin: 24px 0;
            color: var(--text-light);
            font-style: italic;
        }

        /* å›¾ç‰‡ */
        img {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
            margin: 24px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .image-caption {
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: -16px;
            margin-bottom: 24px;
        }

        /* è¡¨æ ¼ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--code-bg);
            font-weight: 600;
            color: var(--primary-color);
        }

        tr:hover {
            background: var(--bg-color);
        }

        /* é«˜äº®æ¡† */
        .highlight {
            background: #FFF9E6;
            border-left: 4px solid #FFD93D;
            padding: 16px 20px;
            margin: 24px 0;
            border-radius: 4px;
        }

        .highlight-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-color);
        }

        /* é¡µè„š */
        footer {
            margin-top: 64px;
            padding-top: 32px;
            border-top: 1px solid var(--border-color);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .footer-links {
            display: flex;
            gap: 24px;
            margin-top: 16px;
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .container {
                padding: 32px 16px;
            }

            .content {
                padding: 24px 20px;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            pre {
                padding: 16px;
                font-size: 0.85rem;
            }
        }

        /* æ‰“å°æ ·å¼ */
        @media print {
            body {
                background: white;
            }

            .container {
                max-width: 100%;
            }

            .toc {
                display: none;
            }

            a {
                color: var(--text-color);
                border-bottom: none;
            }

            pre {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <!-- é˜…è¯»è¿›åº¦æ¡ -->
    <div id="reading-progress"></div>

    <!-- é¡¶éƒ¨é¢åŒ…å±‘å¯¼èˆª -->
    <nav class="breadcrumb-nav">
        <div class="breadcrumb-content">
            <a href="index.html">ğŸ“š æ–‡ç« ç´¢å¼•</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ</span>
        </div>
    </nav>

    <!-- æµ®åŠ¨å›é¡¶æŒ‰é’® -->
    <div id="back-to-top">
        <svg class="progress-ring">
            <circle class="progress-ring-circle" cx="28" cy="28" r="26"></circle>
            <circle class="progress-ring-progress" cx="28" cy="28" r="26"></circle>
        </svg>
        <svg viewBox="0 0 24 24">
            <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
        </svg>
    </div>

    <div class="container">
        <header>
            <h1>AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ</h1>
            <div class="meta">
                <div class="meta-item">
                    <span class="meta-label">åŸæ–‡é“¾æ¥ï¼š</span>
                    <a href="https://www.anthropic.com/engineering/building-effective-agents" target="_blank">https://www.anthropic.com/engineering/building-effective-agents</a>
                </div>
                <div class="meta-item">
                    <span class="meta-label">å‘å¸ƒæ—¥æœŸï¼š</span>
                    <span>2024 å¹´ 12 æœˆ 19 æ—¥</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">æ•´ç†æ—¥æœŸï¼š</span>
                    <span>2026-02-10</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">æ•´ç†è€…ï¼š</span>
                    <span class="author">Panda</span>
                </div>
            </div>
        </header>

        <nav class="toc">
<div class="toc-title">ğŸ“‘ ç›®å½•</div>
<ul>
<li><a href="#_1">æ ¸å¿ƒæ´å¯Ÿ</a></li>
<li><a href="#workflows-vs-agents">ä¸€ã€æ¶æ„åˆ†ç±»ï¼šWorkflows vs Agents</a></li>
  <li><a href="#1">1. æ ¸å¿ƒå®šä¹‰</a></li>
  <li><a href="#2">2. æ¶æ„å¯¹æ¯”å›¾</a></li>
  <li><a href="#3">3. é€‰æ‹©çŸ©é˜µ</a></li>
<li><a href="#llm">äºŒã€åŸºç¡€æ„å»ºå—ï¼šå¢å¼ºå‹ LLM</a></li>
<li><a href="#_2">ä¸‰ã€å…­ç§å·¥ä½œæµæ¶æ„æ¨¡å¼</a></li>
  <li><a href="#1prompt-chaining">æ¨¡å¼ 1ï¼šPrompt Chainingï¼ˆæç¤ºé“¾ï¼‰</a></li>
  <li><a href="#2routing">æ¨¡å¼ 2ï¼šRoutingï¼ˆè·¯ç”±ï¼‰</a></li>
  <li><a href="#3parallelization">æ¨¡å¼ 3ï¼šParallelizationï¼ˆå¹¶è¡ŒåŒ–ï¼‰</a></li>
  <li><a href="#4orchestrator-workers-">æ¨¡å¼ 4ï¼šOrchestrator-Workersï¼ˆç¼–æ’-å·¥ä½œè€…ï¼‰</a></li>
  <li><a href="#5evaluator-optimizer-">æ¨¡å¼ 5ï¼šEvaluator-Optimizerï¼ˆè¯„ä¼°-ä¼˜åŒ–ï¼‰</a></li>
  <li><a href="#6autonomous-agents">æ¨¡å¼ 6ï¼šAutonomous Agentsï¼ˆè‡ªä¸»æ™ºèƒ½ä½“ï¼‰</a></li>
<li><a href="#_3">å››ã€ä¸‰å¤§æ ¸å¿ƒè®¾è®¡åŸåˆ™</a></li>
  <li><a href="#1simplicity">åŸåˆ™ 1ï¼šç®€æ´æ€§ï¼ˆSimplicityï¼‰</a></li>
  <li><a href="#2transparency">åŸåˆ™ 2ï¼šé€æ˜æ€§ï¼ˆTransparencyï¼‰</a></li>
  <li><a href="#3agent-computer-interface">åŸåˆ™ 3ï¼šå·¥å…·æ–‡æ¡£ï¼ˆAgent-Computer Interfaceï¼‰</a></li>
<li><a href="#_4">äº”ã€å®é™…åº”ç”¨æ¡ˆä¾‹æ·±åº¦åˆ†æ</a></li>
  <li><a href="#1-agent">æ¡ˆä¾‹ 1ï¼šå®¢æˆ·æ”¯æŒ Agent</a></li>
  <li><a href="#2-agentswe-bench-verified">æ¡ˆä¾‹ 2ï¼šç¼–ç  Agentï¼ˆSWE-bench Verifiedï¼‰</a></li>
<li><a href="#_5">å…­ã€æ¶æ„å†³ç­–æ£€æŸ¥æ¸…å•</a></li>
  <li><a href="#_6">è®¾è®¡é˜¶æ®µ</a></li>
  <li><a href="#_7">å®ç°é˜¶æ®µ</a></li>
  <li><a href="#_8">æµ‹è¯•é˜¶æ®µ</a></li>
  <li><a href="#_9">éƒ¨ç½²é˜¶æ®µ</a></li>
<li><a href="#_10">ä¸ƒã€åæ¨¡å¼è­¦å‘Š</a></li>
  <li><a href="#1-agent_1">åæ¨¡å¼ 1ï¼šè¿‡æ—©ä¼˜åŒ–ä¸ºè‡ªä¸» Agent</a></li>
  <li><a href="#2_1">åæ¨¡å¼ 2ï¼šå¿½è§†æˆæœ¬å’Œå»¶è¿Ÿ</a></li>
  <li><a href="#3_1">åæ¨¡å¼ 3ï¼šå·¥å…·æè¿°ä¸è¶³</a></li>
  <li><a href="#4-agent">åæ¨¡å¼ 4ï¼šéšè— Agent å†³ç­–</a></li>
<li><a href="#_11">å…«ã€å…³é”®æ¶æ„æƒè¡¡çŸ©é˜µ</a></li>
<li><a href="#anthropic-agent">ä¹ã€æ€»ç»“ï¼šAnthropic çš„ Agent è®¾è®¡å“²å­¦</a></li>
  <li><a href="#_12">æ ¸å¿ƒç†å¿µ</a></li>
  <li><a href="#_13">å®è·µå»ºè®®</a></li>
  <li><a href="#_14">æœªæ¥å±•æœ›</a></li>
</ul>
</nav>

        <article class="content">
            
            <h1 id="ai-agent">AI Agent æ¶æ„è®¾è®¡æƒå¨æŒ‡å—ï¼šä»å·¥ä½œæµåˆ°è‡ªä¸»ç³»ç»Ÿ</h1>
<p><strong>åŸæ–‡é“¾æ¥</strong>ï¼šhttps://www.anthropic.com/engineering/building-effective-agents
<strong>å‘å¸ƒæ—¥æœŸ</strong>ï¼š2024 å¹´ 12 æœˆ 19 æ—¥
<strong>ä½œè€…</strong>ï¼šErik Schluntz, Barry Zhang</p>
<hr />
<h2 id="_1">æ ¸å¿ƒæ´å¯Ÿ</h2>
<blockquote>
<p>"æœ€æˆåŠŸçš„å®ç°å¹¶éä½¿ç”¨å¤æ‚æ¡†æ¶æˆ–ä¸“ç”¨åº“ï¼Œè€Œæ˜¯ç”¨ç®€å•ã€å¯ç»„åˆçš„æ¨¡å¼æ„å»ºã€‚"</p>
</blockquote>
<p>æœ¬æ–‡æ˜¯ Anthropic åŸºäºæ•°åƒä¸ªç”Ÿäº§ç³»ç»Ÿçš„å®è·µæç‚¼ï¼Œæ­ç¤ºäº† <strong>ä½•æ—¶ä½¿ç”¨ç¡®å®šæ€§å·¥ä½œæµã€ä½•æ—¶éœ€è¦è‡ªä¸» Agent</strong> çš„æ¶æ„åˆ¤æ–­å‡†åˆ™ã€‚</p>
<hr />
<h2 id="workflows-vs-agents">ä¸€ã€æ¶æ„åˆ†ç±»ï¼šWorkflows vs Agents</h2>
<h3 id="1">1. æ ¸å¿ƒå®šä¹‰</h3>
<p><strong>Workflowsï¼ˆå·¥ä½œæµï¼‰</strong></p>
<ul>
<li>ç¼–æ’å±‚æ§åˆ¶ï¼šé¢„å®šä¹‰ä»£ç è·¯å¾„è°ƒåº¦ LLM å’Œå·¥å…·</li>
<li>ç¡®å®šæ€§ä¿è¯ï¼šç›¸åŒè¾“å…¥ â†’ å¯é¢„æµ‹çš„æ‰§è¡Œè·¯å¾„</li>
</ul>

<p><strong>Agentsï¼ˆè‡ªä¸»æ™ºèƒ½ä½“ï¼‰</strong></p>
<ul>
<li>åŠ¨æ€å†³ç­–ï¼šLLM è‡ªä¸»è§„åˆ’æµç¨‹å’Œå·¥å…·è°ƒç”¨</li>
<li>é€‚åº”æ€§ï¼šæ ¹æ®ç¯å¢ƒåé¦ˆè°ƒæ•´ç­–ç•¥</li>
</ul> <h3 id="2">2. æ¶æ„å¯¹æ¯”å›¾</h3>

<!-- Mermaid.js ç°ä»£åŒ–ç‰ˆæœ¬ -->
<div class="mermaid">
graph TB
    subgraph workflow["å·¥ä½œæµæ¶æ„"]
        direction TB
        orch["ä»£ç ç¼–æ’å±‚"]
        llm1["LLM 1"]
        llm2["LLM 2"]
        orch --> llm1
        llm1 --> llm2
    end

    subgraph agent["è‡ªä¸» Agent æ¶æ„"]
        direction TB
        env["ç¯å¢ƒ/å·¥å…·åé¦ˆ"]
        agentllm["Agent LLM<br/>(è§„åˆ’+æ‰§è¡Œ)"]
        decision{"å†³ç­–æ˜¯å¦<br/>ç»§ç»­æ‰§è¡Œ"}
        env -.åé¦ˆ.-> agentllm
        agentllm --> decision
        decision -.è°ƒæ•´.-> agentllm
    end

    llm1 -.è°ƒç”¨å·¥å…·.-> agentllm

    style workflow fill:#E3F2FD,stroke:#1976D2,stroke-width:2px
    style agent fill:#FFF3E0,stroke:#F57C00,stroke-width:2px
    style orch fill:#90CAF9,stroke:#1565C0
    style llm1 fill:#90CAF9,stroke:#1565C0
    style llm2 fill:#90CAF9,stroke:#1565C0
    style env fill:#FFB74D,stroke:#E65100
    style agentllm fill:#FFB74D,stroke:#E65100
    style decision fill:#FFE082,stroke:#F57F17
</div>


<h3 id="3">3. é€‰æ‹©çŸ©é˜µ</h3>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>Workflows</th>
<th>Agents</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å¯é¢„æµ‹æ€§</strong></td>
<td>é«˜ï¼ˆå›ºå®šè·¯å¾„ï¼‰</td>
<td>ä½ï¼ˆåŠ¨æ€å†³ç­–ï¼‰</td>
</tr>
<tr>
<td><strong>å¼€å‘å¤æ‚åº¦</strong></td>
<td>ä½ï¼ˆä»£ç é€»è¾‘æ¸…æ™°ï¼‰</td>
<td>ä¸­ï¼ˆéœ€è®¾è®¡çº¦æŸï¼‰</td>
</tr>
<tr>
<td><strong>è°ƒè¯•éš¾åº¦</strong></td>
<td>æ˜“ï¼ˆæ­¥éª¤å¯è¿½è¸ªï¼‰</td>
<td>éš¾ï¼ˆéç¡®å®šæ€§ï¼‰</td>
</tr>
<tr>
<td><strong>ä»»åŠ¡é€‚åº”æ€§</strong></td>
<td>ä½ï¼ˆéœ€é‡æ–°ç¼–ç ï¼‰</td>
<td>é«˜ï¼ˆè‡ªåŠ¨è°ƒæ•´ï¼‰</td>
</tr>
<tr>
<td><strong>æˆæœ¬/å»¶è¿Ÿ</strong></td>
<td>å¯ä¼˜åŒ–ï¼ˆå°‘è½®è°ƒç”¨ï¼‰</td>
<td>é«˜ï¼ˆå¤šè½®æ¢ç´¢ï¼‰</td>
</tr>
<tr>
<td><strong>å¤±è´¥æ¨¡å¼</strong></td>
<td>æ˜ç¡®è¾¹ç•Œ</td>
<td>éœ€è®¾åœæ­¢æ¡ä»¶</td>
</tr>
</tbody>
</table>
<p><strong>é»„é‡‘æ³•åˆ™</strong>ï¼šä»æœ€ç®€å•æ–¹æ¡ˆå¼€å§‹ï¼Œä»…åœ¨å¿…è¦æ—¶å¢åŠ å¤æ‚åº¦ã€‚</p>
<hr />
<h2 id="llm">äºŒã€åŸºç¡€æ„å»ºå—ï¼šå¢å¼ºå‹ LLM</h2>
<p><strong>æ¶æ„ç»„æˆ</strong>ï¼šå¢å¼ºå‹ LLM = åŸºç¡€ LLM + æ£€ç´¢ + å·¥å…· + è®°å¿†</p>

<!-- Mermaid.js ç°ä»£åŒ–ç‰ˆæœ¬ -->
<div class="mermaid">
graph TB
    input["ç”¨æˆ·è¾“å…¥"]

    retrieval["æ£€ç´¢å±‚ (Retrieval)<br/>â€¢ å‘é‡æ•°æ®åº“æŸ¥è¯¢<br/>â€¢ çŸ¥è¯†åº“ä¸Šä¸‹æ–‡æ³¨å…¥"]

    llm["LLM æ¨ç†å±‚<br/>â€¢ åˆ†æ + è§„åˆ’<br/>â€¢ å†³å®šå·¥å…·è°ƒç”¨"]

    tools["å·¥å…·å±‚ (Tools)<br/>â€¢ API è°ƒç”¨<br/>â€¢ æ•°æ®åº“æŸ¥è¯¢<br/>â€¢ ä»£ç æ‰§è¡Œ"]

    memory["è®°å¿†å±‚ (Memory)<br/>â€¢ å¯¹è¯å†å²<br/>â€¢ é•¿æœŸä¸Šä¸‹æ–‡å­˜å‚¨"]

    input --> retrieval
    retrieval --> llm
    llm --> tools
    tools --> memory
    memory -.ä¸Šä¸‹æ–‡åé¦ˆ.-> llm

    style input fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style retrieval fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style llm fill:#FFE082,stroke:#F57F17,stroke-width:3px
    style tools fill:#FFCCBC,stroke:#D84315,stroke-width:2px
    style memory fill:#F8BBD0,stroke:#C2185B,stroke-width:2px
</div>


<p><strong>æŠ€æœ¯å®ç°</strong>ï¼š</p>
<ul>
<li><strong>æ£€ç´¢</strong>ï¼šé€šè¿‡ Model Context Protocol (MCP) é›†æˆç¬¬ä¸‰æ–¹æ•°æ®æº</li>
<li><strong>å·¥å…·</strong>ï¼šæ ‡å‡†åŒ–æ¥å£å®šä¹‰ï¼ˆschema + æè¿° + ç¤ºä¾‹ï¼‰</li>
<li><strong>è®°å¿†</strong>ï¼šçŸ­æœŸï¼ˆå¯¹è¯å†å²ï¼‰+ é•¿æœŸï¼ˆå¤–éƒ¨å­˜å‚¨ï¼‰</li>
</ul>
<hr />
<h2 id="_2">ä¸‰ã€å…­ç§å·¥ä½œæµæ¶æ„æ¨¡å¼</h2>
<h3 id="1prompt-chaining">æ¨¡å¼ 1ï¼šPrompt Chainingï¼ˆæç¤ºé“¾ï¼‰</h3>
<p><strong>åŸç†</strong>ï¼šå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºé¡ºåº LLM è°ƒç”¨é“¾ï¼Œæ¯æ­¥è¾“å‡ºä½œä¸ºä¸‹ä¸€æ­¥è¾“å…¥ã€‚</p>
<p><strong>æ¶æ„å›¾</strong>ï¼š</p>

<!-- Mermaid.js ç°ä»£åŒ–ç‰ˆæœ¬ -->
<div class="mermaid">
graph LR
    input["è¾“å…¥"] --> llm1["LLMâ‚<br/>(åˆ†æ)"]
    llm1 --> result1["ä¸­é—´ç»“æœâ‚"]
    result1 --> llm2["LLMâ‚‚<br/>(æ‰§è¡Œ)"]
    llm2 --> result2["ä¸­é—´ç»“æœâ‚‚"]
    result2 --> llm3["LLMâ‚ƒ<br/>(éªŒè¯)"]
    llm3 --> output["è¾“å‡º"]

    llm1 -.-> gate1["ä»£ç é—¨æ§<br/>æ£€æŸ¥æ ¼å¼/è´¨é‡"]
    llm2 -.-> gate2["ä»£ç é—¨æ§<br/>æ£€æŸ¥æ ¼å¼/è´¨é‡"]
    llm3 -.-> gate3["ä»£ç é—¨æ§<br/>æ£€æŸ¥æ ¼å¼/è´¨é‡"]

    style input fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style output fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style llm1 fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style llm2 fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style llm3 fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style result1 fill:#F5F5F5,stroke:#9E9E9E
    style result2 fill:#F5F5F5,stroke:#9E9E9E
    style gate1 fill:#FFCCBC,stroke:#D84315,stroke-dasharray: 5 5
    style gate2 fill:#FFCCBC,stroke:#D84315,stroke-dasharray: 5 5
    style gate3 fill:#FFCCBC,stroke:#D84315,stroke-dasharray: 5 5
</div>


<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ åæ¨¡å¼ï¼šå•ä¸€æç¤ºå¤„ç†å¤šæ­¥éª¤</span>
<span class="k">def</span> <span class="nf">generate_and_translate</span>(<span class="n">topic</span>: <span class="nb">str</span>) <span class="o">-&gt;</span> <span class="nb">str</span>:
    <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;ç”Ÿæˆå…³äº</span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">çš„è¥é”€æ–‡æ¡ˆï¼Œç„¶åç¿»è¯‘æˆè¥¿ç­ç‰™è¯­&quot;</span>
    <span class="k">return</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="n">prompt</span>)
    <span class="c1"># ä¸¤ä¸ªä»»åŠ¡æ··åœ¨ä¸€èµ·ï¼Œéš¾ä»¥æ§åˆ¶è´¨é‡</span>


<span class="c1"># âœ… æœ€ä½³å®è·µï¼šé“¾å¼åˆ†è§£ + é—¨æ§éªŒè¯</span>
<span class="k">def</span> <span class="nf">generate_and_translate_chained</span>(<span class="n">topic</span>: <span class="nb">str</span>) <span class="o">-&gt;</span> <span class="nb">str</span>:
    <span class="c1"># æ­¥éª¤ 1: ç”Ÿæˆæ–‡æ¡ˆ</span>
    <span class="n">copy</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;ä¸º</span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">ç”Ÿæˆè¥é”€æ–‡æ¡ˆ&quot;</span>)

    <span class="c1"># é—¨æ§ 1: éªŒè¯é•¿åº¦å’Œå…³é”®è¯</span>
    <span class="k">if</span> <span class="nb">len</span>(<span class="n">copy</span><span class="o">.</span><span class="n">split</span>()) <span class="o">&lt;</span> <span class="mi">50</span> <span class="ow">or</span> <span class="n">topic</span><span class="o">.</span><span class="n">lower</span>() <span class="ow">not</span> <span class="ow">in</span> <span class="n">copy</span><span class="o">.</span><span class="n">lower</span>():
        <span class="k">raise</span> <span class="ne">ValueError</span>(<span class="s2">&quot;æ–‡æ¡ˆè´¨é‡ä¸è¾¾æ ‡&quot;</span>)

    <span class="c1"># æ­¥éª¤ 2: ç¿»è¯‘</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;å°†ä»¥ä¸‹æ–‡æ¡ˆç¿»è¯‘æˆè¥¿ç­ç‰™è¯­ï¼š\n</span><span class="si">{</span><span class="n">copy</span><span class="si">}</span><span class="s2">&quot;</span>)

    <span class="c1"># é—¨æ§ 2: éªŒè¯ç¿»è¯‘ä¿ç•™äº†å…³é”®ä¿¡æ¯</span>
    <span class="n">key_terms</span> <span class="o">=</span> <span class="n">extract_key_terms</span>(<span class="n">copy</span>)
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span>(<span class="n">term</span> <span class="ow">in</span> <span class="n">translation</span> <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">key_terms</span>):
        <span class="k">return</span> <span class="n">retry_translation</span>(<span class="n">copy</span>)

    <span class="k">return</span> <span class="n">translation</span>
</code></pre></div> <p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦ä¸­é—´æ­¥éª¤éªŒè¯çš„ä»»åŠ¡ï¼ˆå¦‚ä»£ç ç”Ÿæˆ â†’ æµ‹è¯• â†’ ä¿®å¤ï¼‰</li>
<li>è¾“å‡ºæ ¼å¼è¦æ±‚ä¸¥æ ¼ï¼ˆç”Ÿæˆæ•°æ® â†’ æ ¼å¼åŒ– â†’ éªŒè¯ï¼‰</li>
<li>ä»»åŠ¡è‡ªç„¶åˆ†è§£ä¸ºé¡ºåºæ­¥éª¤ï¼ˆç ”ç©¶ â†’ æ’°å†™ â†’ ç¼–è¾‘ï¼‰</li>
</ul>
<hr />
<h3 id="2routing">æ¨¡å¼ 2ï¼šRoutingï¼ˆè·¯ç”±ï¼‰</h3>
<p><strong>åŸç†</strong>ï¼šæ ¹æ®è¾“å…¥åˆ†ç±»ï¼Œè·¯ç”±åˆ°ä¸“ç”¨ LLM æˆ–æç¤ºã€‚</p>
<p><strong>æ¶æ„å›¾</strong>ï¼š</p>

<!-- Mermaid.js ç°ä»£åŒ–ç‰ˆæœ¬ -->
<div class="mermaid">
graph LR
    input["ç”¨æˆ·è¾“å…¥"] --> router["åˆ†ç±»å™¨ LLM"]

    router -->|æŠ€æœ¯é—®é¢˜| tech["LLM_æŠ€æœ¯æ”¯æŒ"]
    router -->|é€€æ¬¾è¯·æ±‚| refund["LLM_é€€æ¬¾å¤„ç†"]
    router -->|é”€å”®å’¨è¯¢| sales["LLM_é”€å”®å’¨è¯¢"]

    tech --> tech_out["æŠ€æœ¯æ–¹æ¡ˆ"]
    refund --> refund_out["é€€æ¬¾æµç¨‹"]
    sales --> sales_out["äº§å“æ¨è"]

    style input fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style router fill:#FFE082,stroke:#F57F17,stroke-width:3px
    style tech fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style refund fill:#F8BBD0,stroke:#C2185B,stroke-width:2px
    style sales fill:#E1BEE7,stroke:#7B1FA2,stroke-width:2px
    style tech_out fill:#F5F5F5,stroke:#9E9E9E
    style refund_out fill:#F5F5F5,stroke:#9E9E9E
    style sales_out fill:#F5F5F5,stroke:#9E9E9E
</div>


<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code># âŒ åæ¨¡å¼ï¼šå•ä¸€è¶…å¤§æç¤ºå¤„ç†æ‰€æœ‰åœºæ™¯
MEGA_PROMPT = &quot;&quot;&quot;
ä½ æ˜¯å®¢æœç³»ç»Ÿï¼Œéœ€è¦å¤„ç†ï¼š
1.æŠ€æœ¯é—®é¢˜ï¼ˆæŸ¥é˜…æ–‡æ¡£ï¼Œæä¾›ä»£ç ç¤ºä¾‹ï¼‰
2.é€€æ¬¾è¯·æ±‚ï¼ˆæ£€æŸ¥è®¢å•ï¼Œå¤„ç†é€€æ¬¾ï¼‰
3.é”€å”®å’¨è¯¢ï¼ˆæ¨èäº§å“ï¼Œç”ŸæˆæŠ¥ä»·ï¼‰
...ï¼ˆ500+ è¡Œæç¤ºï¼‰
&quot;&quot;&quot;


<span class="c1"># âœ… æœ€ä½³å®è·µï¼šä¸“ç”¨è·¯ç”± + ä¸“å®¶æç¤º</span>
<span class="k">def</span> <span class="nf">route_customer_query</span>(<span class="n">query</span>: <span class="nb">str</span>):
    <span class="c1"># è·¯ç”±å™¨ï¼šè½»é‡çº§åˆ†ç±»</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(
        <span class="sa">f</span><span class="s2">&quot;å°†ä»¥ä¸‹æŸ¥è¯¢åˆ†ç±»ä¸º [technical, refund, sales]:\n</span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="s2">&quot;</span>,
        <span class="n">model</span><span class="o">=</span><span class="s2">&quot;claude-3-haiku&quot;</span>  <span class="c1"># ä½¿ç”¨å¿«é€Ÿæ¨¡å‹</span>
    )

    <span class="c1"># ä¸“å®¶å¤„ç†å™¨</span>
    <span class="n">handlers</span> <span class="o">=</span> {
        <span class="s2">&quot;technical&quot;</span>: <span class="n">TechnicalSupportAgent</span>(<span class="n">knowledge_base</span><span class="o">=</span><span class="s2">&quot;docs&quot;</span>),
        <span class="s2">&quot;refund&quot;</span>: <span class="n">RefundAgent</span>(<span class="n">api</span><span class="o">=</span><span class="n">payment_system</span>),
        <span class="s2">&quot;sales&quot;</span>: <span class="n">SalesAgent</span>(<span class="n">crm</span><span class="o">=</span><span class="n">customer_data</span>)
    }

    <span class="k">return</span> <span class="n">handlers</span>[<span class="n">category</span>]<span class="o">.</span><span class="n">handle</span>(<span class="n">query</span>)


<span class="c1"># ä¸“å®¶æç¤ºç¤ºä¾‹</span>
<span class="k">class</span> <span class="nc">TechnicalSupportAgent</span>:
    <span class="n">PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    ä½ æ˜¯æŠ€æœ¯æ”¯æŒä¸“å®¶ï¼Œä¸“æ³¨äºï¼š</span>
<span class="s2">      - è¯Šæ–­ API é”™è¯¯</span>
<span class="s2">      - æä¾›ä»£ç ç¤ºä¾‹</span>
<span class="s2">      - å¼•ç”¨å®˜æ–¹æ–‡æ¡£</span>

<span class="s2">    å¯ç”¨å·¥å…·ï¼šsearch_docs(), run_code_sample()</span>
<span class="s2">    &quot;&quot;&quot;</span>
</code></pre></div> <p><strong>æ€§èƒ½ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>è·¯ç”±å™¨å¯ç”¨å°æ¨¡å‹ï¼ˆHaikuï¼Œå»¶è¿Ÿ &lt; 1sï¼‰</li>
<li>ä¸“å®¶æç¤ºæ›´èšç„¦ï¼ˆtoken æ¶ˆè€—é™ä½ 40-60 %ï¼‰</li>
<li>å„è·¯å¾„ç‹¬ç«‹ä¼˜åŒ–å’Œç›‘æ§</li>
</ul>
<hr />
<h3 id="3parallelization">æ¨¡å¼ 3ï¼šParallelizationï¼ˆå¹¶è¡ŒåŒ–ï¼‰</h3>
<p><strong>ä¸¤ç§å­æ¨¡å¼</strong>ï¼š</p>
<h4 id="asectioning">å­æ¨¡å¼ Aï¼šSectioningï¼ˆåˆ†æ®µå¹¶è¡Œï¼‰</h4>
<p><strong>åŸç†</strong>ï¼šå°†ç‹¬ç«‹å­ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œï¼Œèšåˆç»“æœã€‚</p>

<!-- Mermaid.js ç°ä»£åŒ–ç‰ˆæœ¬ -->
<div class="mermaid">
graph LR
    input["è¾“å…¥æ–‡æ¡£"] --> llm1["LLMâ‚<br/>(ç¬¬ 1-10 é¡µ)"]
    input --> llm2["LLMâ‚‚<br/>(ç¬¬ 11-20 é¡µ)"]
    input --> llm3["LLMâ‚ƒ<br/>(ç¬¬ 21-30 é¡µ)"]

    llm1 --> agg["èšåˆ LLM"]
    llm2 --> agg
    llm3 --> agg

    agg --> output["æœ€ç»ˆæ‘˜è¦"]

    style input fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style llm1 fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style llm2 fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style llm3 fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style agg fill:#C8E6C9,stroke:#388E3C,stroke-width:3px
    style output fill:#F5F5F5,stroke:#9E9E9E,stroke-width:2px
</div>

 <div class="codehilite"><pre><span></span><code># å¹¶è¡Œåˆ†æ®µä»£ç å®¡æŸ¥
        <span class="kn">import</span> <span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">parallel_code_review</span>(<span class="n">files</span>: <span class="nb">list</span>[<span class="nb">str</span>]):
        # å¹¶è¡Œå®¡æŸ¥æ¯ä¸ªæ–‡ä»¶ reviews = await asyncio.gather(*[review_file(f)
        for f in files]) # èšåˆå‘ç°çš„é—®é¢˜ all_issues = aggregate_issues(reviews) # LLM ä¼˜å…ˆçº§æ’åº prioritized = llm.call(f&amp;quot;å¯¹ä»¥ä¸‹ä»£ç é—®é¢˜æŒ‰ä¸¥é‡æ€§æ’åºï¼š\n{all_issues}&amp;quot;)
        return prioritized async

    def review_file(filepath: str):
        
        code = read_file(filepath)
        return await llm.call_async(f&amp;quot;å®¡æŸ¥ä»¥ä¸‹ä»£ç çš„å®‰å…¨æ€§å’Œæ€§èƒ½é—®é¢˜ï¼š\n{code}&amp;quot;)
</code></pre></div> <h4 id="bvoting">å­æ¨¡å¼ Bï¼šVotingï¼ˆæŠ•ç¥¨å¹¶è¡Œï¼‰</h4>
<p><strong>åŸç†</strong>ï¼šåŒä¸€ä»»åŠ¡å¤šæ¬¡å¹¶è¡Œæ‰§è¡Œï¼ŒæŠ•ç¥¨é€‰æ‹©æœ€ä½³ç»“æœã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># é«˜å¯é æ€§ä»£ç ç”Ÿæˆ</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">voted_code_generation</span>(<span class="n">spec</span>: <span class="nb">str</span>, <span class="n">num_attempts</span><span class="o">=</span><span class="mi">5</span>):
    <span class="c1"># å¹¶è¡Œç”Ÿæˆå¤šä¸ªå€™é€‰</span>
    <span class="n">candidates</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span>(<span class="o">*</span>[
        <span class="n">llm</span><span class="o">.</span><span class="n">call_async</span>(<span class="sa">f</span><span class="s2">&quot;æ ¹æ®è§„æ ¼ç”Ÿæˆä»£ç ï¼š</span><span class="se">\n</span><span class="si">{</span><span class="n">spec</span><span class="si">}</span><span class="s2">&quot;</span>)
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span>(<span class="n">num_attempts</span>)
    ])

    <span class="c1"># æ¯ä¸ªå€™é€‰è¿è¡Œæµ‹è¯•</span>
    <span class="n">test_results</span> <span class="o">=</span> [<span class="n">run_tests</span>(<span class="n">code</span>) <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">candidates</span>]

    <span class="c1"># é€‰æ‹©é€šè¿‡æœ€å¤šæµ‹è¯•çš„ç‰ˆæœ¬</span>
    <span class="n">best_idx</span> <span class="o">=</span> <span class="nb">max</span>(<span class="nb">range</span>(<span class="n">num_attempts</span>), <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span>: <span class="n">test_results</span>[<span class="n">i</span>]<span class="o">.</span><span class="n">passed_count</span>)
    <span class="k">return</span> <span class="n">candidates</span>[<span class="n">best_idx</span>]
</code></pre></div> <p><strong>æˆæœ¬-å¯é æ€§æƒè¡¡</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æŠ•ç¥¨æ•°</th>
<th>Token æˆæœ¬</th>
<th>æˆåŠŸç‡æå‡</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1x</td>
<td>åŸºçº¿</td>
<td>ä½é£é™©ä»»åŠ¡</td>
</tr>
<tr>
<td>3</td>
<td>3x</td>
<td>+15-25 %</td>
<td>ä¸­ç­‰é£é™©</td>
</tr>
<tr>
<td>5</td>
<td>5x</td>
<td>+30-40 %</td>
<td>é«˜é£é™©ï¼ˆå¦‚å®‰å…¨å®¡è®¡ï¼‰</td>
</tr>
<tr>
<td>10</td>
<td>10x</td>
<td>+45-55 %</td>
<td>å…³é”®ä»»åŠ¡ï¼ˆå¦‚åŒ»ç–—è¯Šæ–­ï¼‰</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="4orchestrator-workers-">æ¨¡å¼ 4ï¼šOrchestrator-Workersï¼ˆç¼–æ’-å·¥ä½œè€…ï¼‰</h3>
<p><strong>åŸç†</strong>ï¼šä¸­å¤® LLM åŠ¨æ€åˆ†è§£ä»»åŠ¡å¹¶åè°ƒå¤šä¸ª Worker LLM æ‰§è¡Œã€‚</p>
<p><strong>æ¶æ„å›¾</strong>ï¼š</p>

<!-- Mermaid.js ç°ä»£åŒ–ç‰ˆæœ¬ -->
<div class="mermaid">
graph TB
    task["æ¥æ”¶ä»»åŠ¡ï¼šé‡æ„æ•´ä¸ªæ¨¡å—"] --> orch["Orchestrator LLM<br/>(ä»»åŠ¡åˆ†è§£)"]

    orch -->|å­ä»»åŠ¡1| worker1["Workerâ‚<br/>ä¿®æ”¹ auth.py"]
    orch -->|å­ä»»åŠ¡2| worker2["Workerâ‚‚<br/>ä¿®æ”¹ db.py"]
    orch -->|å­ä»»åŠ¡3| worker3["Workerâ‚ƒ<br/>æ›´æ–°æµ‹è¯•"]

    worker1 --> collect["æ”¶é›†ç»“æœ"]
    worker2 --> collect
    worker3 --> collect

    collect --> validate["åˆå¹¶ä»£ç å˜æ›´<br/>éªŒè¯ä¸€è‡´æ€§"]

    style task fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style orch fill:#FFE082,stroke:#F57F17,stroke-width:3px
    style worker1 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style worker2 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style worker3 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style collect fill:#F5F5F5,stroke:#9E9E9E
    style validate fill:#F8BBD0,stroke:#C2185B,stroke-width:2px
</div>


<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">OrchestratorAgent</span>:
    <span class="k">def</span> <span class="nf">execute_coding_task</span>(<span class="bp">self</span>, <span class="n">task</span>: <span class="nb">str</span>, <span class="n">codebase</span>: <span class="nb">dict</span>):
        <span class="c1"># æ­¥éª¤ 1: è§„åˆ’</span>
        <span class="n">plan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            ä»»åŠ¡ï¼š</span><span class="si">{</span><span class="n">task</span><span class="si">}</span><span class="s2"></span>
<span class="s2">            ä»£ç åº“ç»“æ„ï¼š</span><span class="si">{</span><span class="n">codebase</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2"></span>
<span class="s2">            ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œæ ¼å¼ï¼š</span>
<span class="s2">            {{&quot;subtasks&quot;: [{{&quot;file&quot;: &quot;auth.py&quot;, &quot;action&quot;: &quot;add_oauth_support&quot;}}, ...],</span>
<span class="s2">             &quot;dependencies&quot;: {{&quot;auth.py&quot;: [], &quot;tests.py&quot;: [&quot;auth.py&quot;]}}}}</span>
<span class="s2">        &quot;&quot;&quot;</span>)

        <span class="c1"># æ­¥éª¤ 2: æ‹“æ‰‘æ’åºï¼ˆå¤„ç†ä¾èµ–ï¼‰</span>
        <span class="n">ordered_tasks</span> <span class="o">=</span> <span class="n">topological_sort</span>(<span class="n">plan</span>[<span class="s1">&#39;subtasks&#39;</span>], <span class="n">plan</span>[<span class="s1">&#39;dependencies&#39;</span>])

        <span class="c1"># æ­¥éª¤ 3: æ‰§è¡Œï¼ˆè€ƒè™‘ä¾èµ–é¡ºåºï¼‰</span>
        <span class="n">results</span> <span class="o">=</span> {}
        <span class="k">for</span> <span class="n">subtask</span> <span class="ow">in</span> <span class="n">ordered_tasks</span>:
            <span class="c1"># Worker æ‰§è¡Œå…·ä½“ä¿®æ”¹</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">worker_llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                ä¿®æ”¹æ–‡ä»¶ </span><span class="si">{</span><span class="n">subtask</span><span class="p">[</span><span class="s1">&#39;file&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">:</span>
<span class="s2">                å½“å‰ä»£ç ï¼š</span><span class="si">{</span><span class="n">codebase</span><span class="p">[</span><span class="n">subtask</span><span class="p">[</span><span class="s1">&#39;file&#39;</span><span class="p">]</span><span class="p">]</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                ä»»åŠ¡ï¼š</span><span class="si">{</span><span class="n">subtask</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                å·²æœ‰å˜æ›´ï¼š</span><span class="si">{</span><span class="n">results</span><span class="si">}</span><span class="s2">  # ä¼ é€’ä¸Šä¸‹æ–‡</span>
<span class="s2">            &quot;&quot;&quot;</span>)
            <span class="n">results</span>[<span class="n">subtask</span>[<span class="s1">&#39;file&#39;</span>]] <span class="o">=</span> <span class="n">result</span>

        <span class="c1"># æ­¥éª¤ 4: éªŒè¯ä¸€è‡´æ€§</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate_changes</span>(<span class="n">results</span>)
        <span class="k">return</span> <span class="n">results</span>
</code></pre></div> <p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¤šæ–‡ä»¶ä»£ç ä¿®æ”¹ï¼ˆéœ€åè°ƒæ¥å£å˜æ›´ï¼‰</li>
<li>å¤æ‚æ•°æ®å¤„ç†ç®¡é“ï¼ˆåŠ¨æ€é€‰æ‹©æ­¥éª¤ï¼‰</li>
<li>å¤šæ­¥éª¤ç ”ç©¶ä»»åŠ¡ï¼ˆæ ¹æ®ä¸­é—´ç»“æœè°ƒæ•´ç­–ç•¥ï¼‰</li>
</ul>
<hr />
<h3 id="5evaluator-optimizer-">æ¨¡å¼ 5ï¼šEvaluator-Optimizerï¼ˆè¯„ä¼°-ä¼˜åŒ–ï¼‰</h3>
<p><strong>åŸç†</strong>ï¼šè¿­ä»£ç”Ÿæˆ â†’ è¯„ä¼° â†’ æ”¹è¿›çš„å¾ªç¯ã€‚</p>
<p><strong>æ¶æ„å›¾</strong>ï¼š</p>

<div class="mermaid">
graph TB
    input["è¾“å…¥"] --> generator["ç”Ÿæˆå™¨ LLM"]
    generator --> output1["åˆç‰ˆè¾“å‡º"]
    output1 --> evaluator["è¯„ä¼°å™¨ LLM"]
    evaluator --> feedback["è¯„åˆ† + æ”¹è¿›å»ºè®®"]
    feedback --> decision{"æ˜¯å¦æ»¡è¶³é˜ˆå€¼?"}
    decision -->|No| generator
    decision -->|Yes| final["è¿”å›ç»“æœ"]

    style input fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style generator fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style evaluator fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style decision fill:#FFCCBC,stroke:#D84315,stroke-width:2px
    style final fill:#F5F5F5,stroke:#9E9E9E,stroke-width:2px
    style output1 fill:#F5F5F5,stroke:#9E9E9E
    style feedback fill:#F5F5F5,stroke:#9E9E9E
</div>
(æœ€å¤š N è½®)
</pre>
<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># æ–‡å­¦ç¿»è¯‘è¿­ä»£ä¼˜åŒ–</span>
<span class="k">def</span> <span class="nf">iterative_translation</span>(<span class="n">text</span>: <span class="nb">str</span>, <span class="n">target_lang</span>: <span class="nb">str</span>, <span class="n">quality_threshold</span><span class="o">=</span><span class="mf">8.5</span>, <span class="n">max_iterations</span><span class="o">=</span><span class="mi">5</span>):
    <span class="n">current_translation</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nb">range</span>(<span class="n">max_iterations</span>):
        <span class="c1"># ç”Ÿæˆé˜¶æ®µ</span>
        <span class="k">if</span> <span class="n">iteration</span> <span class="o">==</span> <span class="mi">0</span>:
            <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;ç¿»è¯‘æˆ</span><span class="si">{</span><span class="n">target_lang</span><span class="si">}</span><span class="s2">ï¼š\n</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span>:
            <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                æ”¹è¿›ä»¥ä¸‹ç¿»è¯‘ï¼ˆä¸Šä¸€ç‰ˆè¯„åˆ†ï¼š</span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">ï¼‰</span>
<span class="s2">                åŸæ–‡ï¼š</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                å½“å‰ç¿»è¯‘ï¼š</span><span class="si">{</span><span class="n">current_translation</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                é—®é¢˜ï¼š</span><span class="si">{</span><span class="n">feedback</span><span class="si">}</span><span class="s2"></span>
<span class="s2">            &quot;&quot;&quot;</span>

        <span class="n">current_translation</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="n">prompt</span>)

        <span class="c1"># è¯„ä¼°é˜¶æ®µ</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            è¯„ä¼°ç¿»è¯‘è´¨é‡ï¼ˆ1-10 åˆ†ï¼‰ï¼š</span>
<span class="s2">            åŸæ–‡ï¼š</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2"></span>
<span class="s2">            è¯‘æ–‡ï¼š</span><span class="si">{</span><span class="n">current_translation</span><span class="si">}</span><span class="s2"></span>

<span class="s2">            è¯„ä¼°ç»´åº¦ï¼š</span>
<span class="s2">              - å‡†ç¡®æ€§ï¼ˆæ˜¯å¦å¿ äºåŸæ–‡ï¼‰</span>
<span class="s2">              - æµç•…æ€§ï¼ˆç›®æ ‡è¯­è¨€è‡ªç„¶åº¦ï¼‰</span>
<span class="s2">              - æ–‡åŒ–é€‚é…ï¼ˆä¹ è¯­å’Œæ–‡åŒ–å¼•ç”¨ï¼‰</span>

<span class="s2">            è¿”å›ï¼š</span><span class="si">{{</span><span class="s2">&quot;score&quot;: X, &quot;feedback&quot;: &quot;...&quot;</span><span class="si">}}</span><span class="s2"></span>
<span class="s2">        &quot;&quot;&quot;</span>)

        <span class="n">score</span> <span class="o">=</span> <span class="n">evaluation</span>[<span class="s1">&#39;score&#39;</span>]
        <span class="n">feedback</span> <span class="o">=</span> <span class="n">evaluation</span>[<span class="s1">&#39;feedback&#39;</span>]

        <span class="c1"># åœæ­¢æ¡ä»¶</span>
        <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="n">quality_threshold</span>:
            <span class="k">return</span> <span class="n">current_translation</span>

    <span class="c1"># è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°</span>
    <span class="k">return</span> <span class="n">current_translation</span>


<span class="c1"># âŒ åæ¨¡å¼ï¼šæ— é™å¾ªç¯é£é™©</span>
<span class="k">def</span> <span class="nf">bad_iterative</span>(<span class="n">text</span>):
    <span class="k">while</span> <span class="kc">True</span>:  <span class="c1"># å±é™©ï¼å¯èƒ½æ°¸ä¸åœæ­¢</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">generate</span>(<span class="n">text</span>)
        <span class="k">if</span> <span class="n">is_perfect</span>(<span class="n">result</span>):  <span class="c1"># å¯èƒ½æ°¸è¿œä¸å®Œç¾</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">improve_prompt</span>(<span class="n">text</span>, <span class="n">result</span>)
</code></pre></div> <p><strong>åœæ­¢æ¡ä»¶è®¾è®¡</strong>ï¼š</p>
<ul>
<li>âœ… è´¨é‡é˜ˆå€¼ï¼ˆè¯„åˆ† &gt; Xï¼‰</li>
<li>âœ… æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼ˆé˜²æ­¢æˆæœ¬å¤±æ§ï¼‰</li>
<li>âœ… æ”¹è¿›åœæ»æ£€æµ‹ï¼ˆè¿ç»­ N è½®æ— æå‡ï¼‰</li>
<li>âœ… ç”¨æˆ·ä¸»åŠ¨ç»ˆæ­¢ï¼ˆäººå·¥ä»‹å…¥ï¼‰</li>
</ul>
<hr />
<h3 id="6autonomous-agents">æ¨¡å¼ 6ï¼šAutonomous Agentsï¼ˆè‡ªä¸»æ™ºèƒ½ä½“ï¼‰</h3>
<p><strong>åŸç†</strong>ï¼šLLM åœ¨ç¯å¢ƒä¸­æŒç»­æ„ŸçŸ¥ â†’ è§„åˆ’ â†’ æ‰§è¡Œçš„å¾ªç¯ï¼Œæ— é¢„å®šä¹‰è·¯å¾„ã€‚</p>
<p><strong>å®Œæ•´ Agent å¾ªç¯</strong>ï¼š</p>
<div class="mermaid">
graph TB
    env["ç¯å¢ƒ/ä»»åŠ¡çŠ¶æ€"]
    env -->|è§‚å¯Ÿ| agent["Agent LLM<br/>â€¢ åˆ†æå½“å‰çŠ¶æ€<br/>â€¢ è§„åˆ’ä¸‹ä¸€æ­¥è¡ŒåŠ¨<br/>â€¢ é€‰æ‹©å·¥å…·è°ƒç”¨"]
    agent -->|æ‰§è¡Œ| tools["å·¥å…·æ‰§è¡Œå±‚<br/>â€¢ ä¿®æ”¹æ–‡ä»¶<br/>â€¢ è¿è¡Œæµ‹è¯•<br/>â€¢ æœç´¢æ–‡æ¡£"]
    tools -->|åé¦ˆ| check["åœæ­¢æ¡ä»¶åˆ¤æ–­<br/>â€¢ ä»»åŠ¡å®Œæˆï¼Ÿ<br/>â€¢ è¾¾åˆ°æœ€å¤§æ­¥æ•°ï¼Ÿ<br/>â€¢ é‡åˆ°ä¸å¯æ¢å¤é”™è¯¯ï¼Ÿ"]
    check -->|ç»§ç»­| env
    check -->|åœæ­¢| stop["ç»“æŸ"]

    style env fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style agent fill:#FFE082,stroke:#F57F17,stroke-width:3px
    style tools fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style check fill:#FFCCBC,stroke:#D84315,stroke-width:2px
    style stop fill:#F5F5F5,stroke:#9E9E9E,stroke-width:2px
</div>
<p><strong>SWE-bench ç¼–ç  Agent å®ç°</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">CodingAgent</span>:
    <span class="k">def</span> <span class="nf">solve_github_issue</span>(<span class="bp">self</span>, issue_description: <span class="nb">str</span>, repo_path: <span class="nb">str</span>, max_steps=<span class="mi">100</span>):
        step_count = <span class="mi">0</span>

        <span class="c1"># åˆå§‹åŒ–ä¸Šä¸‹æ–‡</span>
        context = {
            <span class="s2">&quot;issue&quot;</span>: issue_description,
            <span class="s2">&quot;repo&quot;</span>: load_repo_structure(repo_path),
            <span class="s2">&quot;actions_taken&quot;</span>: []
        }

        <span class="k">while</span> step_count &lt; max_steps:
            <span class="c1"># è§‚å¯Ÿå½“å‰çŠ¶æ€</span>
            observation = <span class="bp">self</span>.observe(context)

            <span class="c1"># Agent å†³ç­–ä¸‹ä¸€æ­¥</span>
            action = <span class="bp">self</span>.llm.call(<span class="sa">f</span><span class="s2">&quot;&quot;&quot;
                ä»»åŠ¡ï¼š</span><span class="si">{</span>context[<span class="s1">&#39;issue&#39;</span>]<span class="si">}</span><span class="s2">
                å½“å‰çŠ¶æ€ï¼š</span><span class="si">{</span>observation<span class="si">}</span><span class="s2">
                å·²æ‰§è¡Œæ­¥éª¤ï¼š</span><span class="si">{</span>context[<span class="s1">&#39;actions_taken&#39;</span>]<span class="si">}</span><span class="s2">

                å¯ç”¨å·¥å…·ï¼š
                  - read_file(path)
                  - edit_file(path, changes)
                  - run_tests()
                  - search_codebase(query)
                  - bash_command(cmd)

                å†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼ˆJSON æ ¼å¼ï¼‰ï¼š
                {{&quot;tool&quot;: &quot;...&quot;, &quot;args&quot;: {{...}}, &quot;reasoning&quot;: &quot;...&quot;}}
            &quot;&quot;&quot;</span>)

            <span class="c1"># æ‰§è¡Œå·¥å…·è°ƒç”¨</span>
            result = <span class="bp">self</span>.execute_tool(action[<span class="s1">&#39;tool&#39;</span>], action[<span class="s1">&#39;args&#39;</span>])

            <span class="c1"># æ›´æ–°ä¸Šä¸‹æ–‡</span>
            context[<span class="s1">&#39;actions_taken&#39;</span>].append({
                <span class="s2">&quot;step&quot;</span>: step_count,
                <span class="s2">&quot;action&quot;</span>: action,
                <span class="s2">&quot;result&quot;</span>: result
            })

            <span class="c1"># æ£€æŸ¥åœæ­¢æ¡ä»¶</span>
            <span class="k">if</span> <span class="bp">self</span>.should_stop(context, result):
                <span class="k">break</span>

            step_count += <span class="mi">1</span>

        <span class="c1"># æœ€ç»ˆéªŒè¯</span>
        test_results = <span class="bp">self</span>.run_all_tests(repo_path)
        <span class="k">return</span> {
            <span class="s2">&quot;solution&quot;</span>: context[<span class="s1">&#39;actions_taken&#39;</span>],
            <span class="s2">&quot;tests_passed&quot;</span>: test_results.passed,
            <span class="s2">&quot;steps_used&quot;</span>: step_count
        }

    <span class="k">def</span> <span class="nf">should_stop</span>(<span class="bp">self</span>, context, result):
        <span class="c1"># åœæ­¢æ¡ä»¶ 1: æ˜¾å¼å®Œæˆä¿¡å·</span>
        <span class="k">if</span> <span class="s2">&quot;TASK_COMPLETE&quot;</span> <span class="ow">in</span> result:
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># åœæ­¢æ¡ä»¶ 2: æµ‹è¯•å…¨éƒ¨é€šè¿‡</span>
        <span class="k">if</span> result.get(<span class="s1">&#39;all_tests_passed&#39;</span>):
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># åœæ­¢æ¡ä»¶ 3: è¿ç»­å¤±è´¥</span>
        recent_failures = [
            a <span class="k">for</span> a <span class="ow">in</span> context[<span class="s1">&#39;actions_taken&#39;</span>][-<span class="mi">5</span>:]
            <span class="k">if</span> a[<span class="s1">&#39;result&#39;</span>].get(<span class="s1">&#39;error&#39;</span>)
        ]
        <span class="k">if</span> <span class="nb">len</span>(recent_failures) &gt;= <span class="mi">3</span>:
            <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># å¡ä½äº†ï¼Œåœæ­¢</span>

        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div> <p><strong>å…³é”®è®¾è®¡è¦ç´ </strong>ï¼š</p>
<ol>
<li>
<p><strong>å·¥å…·é›†è®¾è®¡</strong>ï¼š - âœ… åŸå­æ€§ï¼ˆæ¯ä¸ªå·¥å…·åšä¸€ä»¶äº‹ï¼‰ - âœ… å¹‚ç­‰æ€§ï¼ˆé‡å¤è°ƒç”¨å®‰å…¨ï¼‰ - âœ… ä¸°å¯Œåé¦ˆï¼ˆè¿”å›æ‰§è¡Œç»“æœ + ç¯å¢ƒå˜åŒ–ï¼‰</p>
</li>
<li>
<p><strong>åœæ­¢æ¡ä»¶</strong>ï¼š - ä»»åŠ¡æˆåŠŸå®Œæˆï¼ˆæµ‹è¯•é€šè¿‡ã€ç›®æ ‡è¾¾æˆï¼‰ - èµ„æºé™åˆ¶ï¼ˆæœ€å¤§æ­¥æ•°ã€æ—¶é—´ã€æˆæœ¬ï¼‰ - å¤±è´¥æ£€æµ‹ï¼ˆå¾ªç¯è¡Œä¸ºã€é‡å¤é”™è¯¯ï¼‰</p>
</li>
<li>
<p><strong>å¯è§‚æµ‹æ€§</strong>ï¼š <code>text # è®°å½• Agent æ¨ç†è¿‡ç¨‹ logger.info ({ "step": step_count, "reasoning": action['reasoning'], "tool": action['tool'], "result_summary": result[:200], "context_size": len (context['actions_taken']) })</code></p>
</li>
</ol>
<hr />
<h2 id="_3">å››ã€ä¸‰å¤§æ ¸å¿ƒè®¾è®¡åŸåˆ™</h2>
<h3 id="1simplicity">åŸåˆ™ 1ï¼šç®€æ´æ€§ï¼ˆSimplicityï¼‰</h3>
<p><strong>åæ¨¡å¼ç¤ºä¾‹</strong>ï¼šè¿‡åº¦å·¥ç¨‹åŒ–çš„ Agent æ¡†æ¶</p>
<div class="codehilite"><pre><span></span><code># âŒ è¿‡åº¦è®¾è®¡ï¼šå¼•å…¥ä¸å¿…è¦çš„æŠ½è±¡å±‚
<span class="k">class</span> <span class="nc">AgentOrchestrator</span>:
    <span class="k">def</span> <span class="fm">__init__</span>(<span class="bp">self</span>):
        <span class="bp">self</span>.state_machine = StateMachine()
        <span class="bp">self</span>.memory_manager = VectorMemorySystem()
        <span class="bp">self</span>.tool_registry = DynamicToolLoader()
        <span class="bp">self</span>.planning_engine = HierarchicalPlanner()
        <span class="c1"># ... 10+ ç»„ä»¶</span>

    <span class="c1"># 100+ è¡Œçš„å¤æ‚æ‰§è¡Œé€»è¾‘</span> # âœ… æœ€ä½³å®è·µï¼šä»ç®€å•å¾ªç¯å¼€å§‹
<span class="k">def</span> <span class="nf">simple_agent</span>(task: <span class="nb">str</span>):
    context = []

    <span class="k">for</span> step <span class="ow">in</span> <span class="nb">range</span>(MAX_STEPS):
        response = llm.call(
            messages=context + [{<span class="s2">&quot;role&quot;</span>: <span class="s2">&quot;user&quot;</span>, <span class="s2">&quot;content&quot;</span>: task}],
            tools=AVAILABLE_TOOLS
        )

        <span class="k">if</span> response.stop_reason == <span class="s2">&quot;end_turn&quot;</span>:
            <span class="k">return</span> response.content

        <span class="c1"># æ‰§è¡Œå·¥å…·è°ƒç”¨</span>
        tool_results = execute_tools(response.tool_calls)
        context.append(response)
        context.append(tool_results)

    <span class="k">return</span> <span class="s2">&quot;è¾¾åˆ°æœ€å¤§æ­¥æ•°&quot;</span>
</code></pre></div> <p><strong>æ¸è¿›å¤æ‚åº¦è·¯çº¿å›¾</strong>ï¼š</p>

<div class="mermaid">
graph TD
    L1["Level 1<br/>å•æ¬¡ LLM è°ƒç”¨ + æç¤ºä¼˜åŒ–"]
    L2["Level 2<br/>æç¤ºé“¾ (Prompt Chaining)"]
    L3["Level 3<br/>å¹¶è¡ŒåŒ– + è·¯ç”±"]
    L4["Level 4<br/>Orchestrator-Workers"]
    L5["Level 5<br/>è‡ªä¸» Agent"]

    L1 -->|æ€§èƒ½ä¸è¶³æ—¶| L2
    L2 -->|éœ€è¦å¹¶è¡Œå¤„ç†æ—¶| L3
    L3 -->|éœ€è¦åŠ¨æ€è§„åˆ’æ—¶| L4
    L4 -->|éœ€è¦ç¯å¢ƒäº¤äº’æ—¶| L5

    style L1 fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style L2 fill:#B3E5FC,stroke:#0288D1,stroke-width:2px
    style L3 fill:#81D4FA,stroke:#039BE5,stroke-width:2px
    style L4 fill:#4FC3F7,stroke:#03A9F4,stroke-width:2px
    style L5 fill:#29B6F6,stroke:#0277BD,stroke-width:3px
</div>
<h3 id="2transparency">åŸåˆ™ 2ï¼šé€æ˜æ€§ï¼ˆTransparencyï¼‰</h3>
<p><strong>åæ¨¡å¼</strong>ï¼šéšè— Agent æ¨ç†è¿‡ç¨‹</p>
<div class="codehilite"><pre><span></span><code># âŒ é»‘ç›’æ‰§è¡Œ
result = agent.solve(task) # ç”¨æˆ·ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆ # âœ… å±•ç¤ºè§„åˆ’æ­¥éª¤
plan = agent.create_plan(task)
show_to_user(f&quot;æˆ‘è®¡åˆ’æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š\n{plan}&quot;) for step in plan: result = agent.execute_step(step) show_to_user(f&quot;âœ“ å®Œæˆï¼š{step.description}\n ç»“æœï¼š{result}&quot;)
</code></pre></div> <p><strong>é€æ˜æ€§çš„æŠ€æœ¯å®ç°</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">TransparentAgent</span>:
    <span class="k">def</span> <span class="nf">solve_with_visibility</span>(<span class="bp">self</span>, <span class="n">task</span>: <span class="nb">str</span>):
        <span class="c1"># æ˜¾ç¤ºåˆå§‹åˆ†æ</span>
        <span class="n">analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;åˆ†æä»»åŠ¡ï¼š</span><span class="si">{</span><span class="n">task</span><span class="si">}</span><span class="s2">&quot;</span>)
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_event</span>({
            <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;analysis&quot;</span>,
            <span class="s2">&quot;content&quot;</span>: <span class="n">analysis</span>,
            <span class="s2">&quot;timestamp&quot;</span>: <span class="n">now</span>()
        })

        <span class="c1"># æ˜¾ç¤ºè§„åˆ’</span>
        <span class="n">plan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;åŸºäºåˆ†æåˆ¶å®šè®¡åˆ’ï¼š</span><span class="se">\n</span><span class="si">{</span><span class="n">analysis</span><span class="si">}</span><span class="s2">&quot;</span>)
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_event</span>({
            <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;plan&quot;</span>,
            <span class="s2">&quot;steps&quot;</span>: <span class="n">plan</span>[<span class="s1">&#39;steps&#39;</span>],
            <span class="s2">&quot;estimated_time&quot;</span>: <span class="n">plan</span>[<span class="s1">&#39;estimate&#39;</span>]
        })

        <span class="c1"># æ‰§è¡Œå¹¶æŠ¥å‘Šè¿›åº¦</span>
        <span class="k">for</span> <span class="n">i</span>, <span class="n">step</span> <span class="ow">in</span> <span class="nb">enumerate</span>(<span class="n">plan</span>[<span class="s1">&#39;steps&#39;</span>]):
            <span class="bp">self</span><span class="o">.</span><span class="n">emit_event</span>({
                <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;progress&quot;</span>,
                <span class="s2">&quot;current_step&quot;</span>: <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>,
                <span class="s2">&quot;total_steps&quot;</span>: <span class="nb">len</span>(<span class="n">plan</span>[<span class="s1">&#39;steps&#39;</span>]),
                <span class="s2">&quot;action&quot;</span>: <span class="n">step</span>[<span class="s1">&#39;action&#39;</span>]
            })
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span>(<span class="n">step</span>)
            <span class="bp">self</span><span class="o">.</span><span class="n">emit_event</span>({
                <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;step_complete&quot;</span>,
                <span class="s2">&quot;result&quot;</span>: <span class="n">result</span>,
                <span class="s2">&quot;next_action&quot;</span>: <span class="n">plan</span>[<span class="s1">&#39;steps&#39;</span>][<span class="n">i</span><span class="o">+</span><span class="mi">1</span>] <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span>(<span class="n">plan</span>[<span class="s1">&#39;steps&#39;</span>]) <span class="k">else</span> <span class="kc">None</span>
            })
</code></pre></div> <p><strong>ç”¨æˆ·ä½“éªŒæ”¶ç›Š</strong>ï¼š</p>
<ul>
<li>å»ºç«‹ä¿¡ä»»ï¼ˆç”¨æˆ·çœ‹åˆ°æ¨ç†è¿‡ç¨‹ï¼‰</li>
<li>æ—©æœŸå¹²é¢„ï¼ˆå‘ç°é”™è¯¯æ–¹å‘æ—¶å¯åœæ­¢ï¼‰</li>
<li>è°ƒè¯•å‹å¥½ï¼ˆé—®é¢˜å®šä½ç²¾ç¡®åˆ°å…·ä½“æ­¥éª¤ï¼‰</li>
</ul>
<h3 id="3agent-computer-interface">åŸåˆ™ 3ï¼šå·¥å…·æ–‡æ¡£ï¼ˆAgent-Computer Interfaceï¼‰</h3>
<p><strong>ACI è®¾è®¡æ¡†æ¶</strong>ï¼ˆå‚è§ã€ŠWriting Tools for Agentsã€‹ï¼‰ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ æ¨¡ç³Šçš„å·¥å…·æè¿°</span>
{
    <span class="nt">&quot;name&quot;</span>: <span class="s2">&quot;edit&quot;</span>,
    <span class="nt">&quot;description&quot;</span>: <span class="s2">&quot;ç¼–è¾‘æ–‡ä»¶&quot;</span>,
    <span class="nt">&quot;parameters&quot;</span>: {
        <span class="nt">&quot;file&quot;</span>: <span class="s2">&quot;str&quot;</span>,
        <span class="nt">&quot;content&quot;</span>: <span class="s2">&quot;str&quot;</span>
    }
}

<span class="c1"># âœ… Agent å‹å¥½çš„å·¥å…·æè¿°</span>
{
    <span class="nt">&quot;name&quot;</span>: <span class="s2">&quot;edit_file_string_replace&quot;</span>,
    <span class="nt">&quot;description&quot;</span>: <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        é€šè¿‡ç²¾ç¡®å­—ç¬¦ä¸²æ›¿æ¢ç¼–è¾‘æ–‡ä»¶ã€‚</span>
<span class="s2">        çº¦æŸï¼š</span>
<span class="s2">        - å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆä¸æ¥å—ç›¸å¯¹è·¯å¾„ï¼‰</span>
<span class="s2">        - old_string å¿…é¡»åœ¨æ–‡ä»¶ä¸­å”¯ä¸€åŒ¹é…ï¼ˆé¿å…æ­§ä¹‰ï¼‰</span>
<span class="s2">        - ä¿ç•™åŸå§‹ç¼©è¿›å’Œæ¢è¡Œç¬¦</span>
<span class="s2">        å¤±è´¥æ¨¡å¼ï¼š</span>
<span class="s2">        - å¦‚æœ old_string å¤šæ¬¡å‡ºç°ï¼Œè¿”å›é”™è¯¯å¹¶åˆ—å‡ºæ‰€æœ‰åŒ¹é…ä½ç½®</span>
<span class="s2">        - å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›å¯ç”¨æ–‡ä»¶åˆ—è¡¨</span>
<span class="s2">        ç¤ºä¾‹ï¼š</span>
<span class="s2">        edit_file_string_replace(</span>
<span class="s2">            path=&quot;/repo/auth.py&quot;,</span>
<span class="s2">            old_string=&quot;def login(user):\\n    return True&quot;,</span>
<span class="s2">            new_string=&quot;def login(user):\\n    validate(user)\\n    return True&quot;</span>
<span class="s2">        )</span>
<span class="s2">    &quot;&quot;&quot;</span>,
    <span class="nt">&quot;parameters&quot;</span>: {
        <span class="nt">&quot;path&quot;</span>: {
            <span class="nt">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>,
            <span class="nt">&quot;description&quot;</span>: <span class="s2">&quot;ç»å¯¹æ–‡ä»¶è·¯å¾„&quot;</span>
        },
        <span class="nt">&quot;old_string&quot;</span>: {
            <span class="nt">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>,
            <span class="nt">&quot;description&quot;</span>: <span class="s2">&quot;è¦æ›¿æ¢çš„ç²¾ç¡®å­—ç¬¦ä¸²&quot;</span>
        },
        <span class="nt">&quot;new_string&quot;</span>: {
            <span class="nt">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>,
            <span class="nt">&quot;description&quot;</span>: <span class="s2">&quot;æ›¿æ¢åçš„å­—ç¬¦ä¸²&quot;</span>
        }
    }
}
</code></pre></div> <p><strong>æµ‹è¯•é©±åŠ¨çš„å·¥å…·è®¾è®¡</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code># åœ¨ Workbench ä¸­æµ‹è¯•å·¥å…·
def test_tool_with_llm():
    # æ•…æ„æ¨¡ç³Šçš„ä»»åŠ¡
    task = "ä¿®æ”¹ç™»å½•å‡½æ•°æ·»åŠ éªŒè¯"  # æœªæŒ‡å®šæ–‡ä»¶è·¯å¾„

    # è§‚å¯Ÿ Agent å¦‚ä½•ä½¿ç”¨å·¥å…·
    trace = agent.execute_with_trace(task, tools=[edit_file])

    # åˆ†æå¤±è´¥åŸå› 
    for call in trace.tool_calls:
        if call.error:
            print(f"é”™è¯¯ï¼š{call.error}")
            print(f"Agent æ¨ç†ï¼š{call.reasoning}")
            # â†’ å‘ç° Agent çŒœæµ‹äº†ç›¸å¯¹è·¯å¾„

    # æ”¹è¿›å·¥å…·æè¿°
    edit_file.description += "
æ³¨æ„ï¼šå¿…é¡»å…ˆç”¨ search_files() æŸ¥æ‰¾ç²¾ç¡®è·¯å¾„"
</code></pre></div> <hr />
<h2 id="_4">äº”ã€å®é™…åº”ç”¨æ¡ˆä¾‹æ·±åº¦åˆ†æ</h2>
<h3 id="1-agent">æ¡ˆä¾‹ 1ï¼šå®¢æˆ·æ”¯æŒ Agent</h3>
<p><strong>æ¶æ„è®¾è®¡</strong>ï¼š</p>
<div class="mermaid">
graph TB
    msg["ç”¨æˆ·æ¶ˆæ¯"] --> router["è·¯ç”±å™¨"]
    router -->|åˆ†ç±»| classify["æŠ€æœ¯/è®¢å•/æŠ•è¯‰"]
    classify --> agent["ä¸“ç”¨ Agent<br/>â€¢ æ£€ç´¢: çŸ¥è¯†åº“/è®¢å•å†å²<br/>â€¢ å·¥å…·: æŸ¥è¯¢æ•°æ®åº“/åˆ›å»ºå·¥å•<br/>â€¢ è®°å¿†: å¯¹è¯ä¸Šä¸‹æ–‡"]
    agent --> decision{"æ˜¯å¦éœ€è¦<br/>äººå·¥ä»‹å…¥?"}
    decision -->|Yes| human["è½¬äººå·¥å®¢æœ"]
    decision -->|No| auto["è‡ªåŠ¨è§£å†³"]

    style msg fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style router fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style classify fill:#F5F5F5,stroke:#9E9E9E
    style agent fill:#C8E6C9,stroke:#388E3C,stroke-width:3px
    style decision fill:#FFCCBC,stroke:#D84315,stroke-width:2px
    style human fill:#F8BBD0,stroke:#C2185B,stroke-width:2px
    style auto fill:#E1BEE7,stroke:#7B1FA2,stroke-width:2px
</div>
<p><strong>å·¥å…·è®¾è®¡ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">SUPPORT_TOOLS</span> <span class="o">=</span> [
    {
        <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;search_knowledge_base&quot;</span>,
        <span class="s2">&quot;description&quot;</span>: <span class="s2">&quot;æœç´¢äº§å“æ–‡æ¡£å’Œå¸¸è§é—®é¢˜&quot;</span>,
        <span class="s2">&quot;parameters&quot;</span>: {
            <span class="s2">&quot;query&quot;</span>: <span class="s2">&quot;str&quot;</span>,
            <span class="s2">&quot;filters&quot;</span>: {
                <span class="s2">&quot;product&quot;</span>: <span class="s2">&quot;optional[str]&quot;</span>,
                <span class="s2">&quot;category&quot;</span>: <span class="s2">&quot;optional[str]&quot;</span>
            }
        }
    },
    {
        <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;get_order_status&quot;</span>,
        <span class="s2">&quot;description&quot;</span>: <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            æŸ¥è¯¢è®¢å•çŠ¶æ€ã€‚</span>
<span class="s2">            è¿”å›ä¿¡æ¯ï¼š</span>
<span class="s2">            - è®¢å•çŠ¶æ€ï¼ˆpending/shipped/deliveredï¼‰</span>
<span class="s2">            - ç‰©æµè·Ÿè¸ªå·</span>
<span class="s2">            - é¢„è®¡é€è¾¾æ—¶é—´</span>
<span class="s2">            éšç§ï¼šä»…è¿”å›ä¸å½“å‰ç”¨æˆ·å…³è”çš„è®¢å•</span>
<span class="s2">        &quot;&quot;&quot;</span>,
        <span class="s2">&quot;parameters&quot;</span>: {
            <span class="s2">&quot;order_id&quot;</span>: <span class="s2">&quot;str&quot;</span>
        }
    },
    {
        <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;create_support_ticket&quot;</span>,
        <span class="s2">&quot;description&quot;</span>: <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            åˆ›å»ºæ”¯æŒå·¥å•ï¼ˆéœ€è¦äººå·¥å¤„ç†æ—¶ï¼‰ã€‚</span>
<span class="s2">            è§¦å‘æ¡ä»¶ï¼š</span>
<span class="s2">            - è¯·æ±‚é€€æ¬¾</span>
<span class="s2">            - æŠ€æœ¯é—®é¢˜è¶…å‡ºçŸ¥è¯†åº“èŒƒå›´</span>
<span class="s2">            - ç”¨æˆ·æ˜ç¡®è¦æ±‚äººå·¥å®¢æœ</span>
<span class="s2">        &quot;&quot;&quot;</span>,
        <span class="s2">&quot;parameters&quot;</span>: {
            <span class="s2">&quot;category&quot;</span>: <span class="s2">&quot;enum[refund, technical, complaint]&quot;</span>,
            <span class="s2">&quot;priority&quot;</span>: <span class="s2">&quot;enum[low, medium, high, urgent]&quot;</span>,
            <span class="s2">&quot;summary&quot;</span>: <span class="s2">&quot;str&quot;</span>,
            <span class="s2">&quot;user_context&quot;</span>: <span class="s2">&quot;str&quot;</span>
        }
    }
]
</code></pre></div> <p><strong>æˆåŠŸæŒ‡æ ‡</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æŒ‡æ ‡</th>
<th>ä¼ ç»Ÿå®¢æœ</th>
<th>Agent å®¢æœ</th>
<th>æ”¹è¿›</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¹³å‡å“åº”æ—¶é—´</td>
<td>5-10 åˆ†é’Ÿ</td>
<td>&lt; 30 ç§’</td>
<td>10-20x</td>
</tr>
<tr>
<td>è§£å†³ç‡ï¼ˆé¦–æ¬¡ï¼‰</td>
<td>45 %</td>
<td>68 %</td>
<td>+51 %</td>
</tr>
<tr>
<td>å®¢æˆ·æ»¡æ„åº¦</td>
<td>3.8/5</td>
<td>4.3/5</td>
<td>+13 %</td>
</tr>
<tr>
<td>æˆæœ¬/å¯¹è¯</td>
<td>$2.50</td>
<td>$0.15</td>
<td>-94 %</td>
</tr>
</tbody>
</table>
<p><strong>Anthropic çš„ä¿¡å¿ƒæŒ‡æ ‡</strong>ï¼šé‡‡ç”¨ <strong>ä½¿ç”¨é‡è®¡è´¹</strong>ï¼ˆusage-based pricingï¼‰ï¼Œè¯æ˜å¯¹ Agent è´¨é‡çš„ä¿¡å¿ƒã€‚</p>
<hr />
<h3 id="2-agentswe-bench-verified">æ¡ˆä¾‹ 2ï¼šç¼–ç  Agentï¼ˆSWE-bench Verifiedï¼‰</h3>
<p><strong>ä»»åŠ¡å®šä¹‰</strong>ï¼šæ ¹æ® GitHub Issue è‡ªåŠ¨ä¿®å¤çœŸå®ä»£ç åº“çš„ bugã€‚</p>
<p><strong>æ¶æ„è®¾è®¡</strong>ï¼š</p>
<div class="mermaid">
graph TB
    issue["GitHub Issue"] --> understand["ç†è§£é—®é¢˜<br/>â€¢ é˜…è¯» Issue<br/>â€¢ æœç´¢ç›¸å…³ä»£ç <br/>â€¢ ç†è§£é¢„æœŸè¡Œä¸º"]
    understand --> solution["ç”Ÿæˆè§£å†³æ–¹æ¡ˆ<br/>â€¢ å®šä½ bug<br/>â€¢ ç¼–å†™ä¿®å¤ä»£ç <br/>â€¢ è€ƒè™‘è¾¹ç•Œæƒ…å†µ"]
    solution --> verify["éªŒè¯å’Œè¿­ä»£<br/>â€¢ è¿è¡Œç°æœ‰æµ‹è¯•<br/>â€¢ æ·»åŠ æ–°æµ‹è¯•<br/>â€¢ æ ¹æ®å¤±è´¥è°ƒæ•´"]
    verify --> check{"æ‰€æœ‰æµ‹è¯•<br/>é€šè¿‡?"}
    check -->|No| retry["é‡æ–°ä¿®å¤<br/>(æœ€å¤š N æ¬¡)"]
    retry --> solution
    check -->|Yes| pr["æäº¤ PR"]

    style issue fill:#E1F5FE,stroke:#0277BD,stroke-width:2px
    style understand fill:#FFE082,stroke:#F57F17,stroke-width:2px
    style solution fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style verify fill:#B3E5FC,stroke:#0288D1,stroke-width:2px
    style check fill:#FFCCBC,stroke:#D84315,stroke-width:2px
    style retry fill:#FFF9C4,stroke:#F9A825,stroke-width:2px
    style pr fill:#E1BEE7,stroke:#7B1FA2,stroke-width:2px
</div>
<p><strong>å…³é”®å·¥å…·å®ç°</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># ä»£ç æœç´¢å·¥å…·</span>
{
  <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;search_codebase&quot;</span>,
  <span class="s2">&quot;description&quot;</span>: <span class="s2">&quot;&quot;&quot;
    è¯­ä¹‰æœç´¢ä»£ç åº“ä¸­çš„ç›¸å…³ä»£ç ã€‚
    æœç´¢ç­–ç•¥ï¼š
      - å‡½æ•°å/ç±»åç²¾ç¡®åŒ¹é…
      - æ–‡æ¡£å­—ç¬¦ä¸²è¯­ä¹‰æœç´¢
      - ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆå¦‚é”™è¯¯å¤„ç†æ¨¡å¼ï¼‰
    è¿”å›æ ¼å¼ï¼š
      [{&quot;file&quot;: &quot;ç»å¯¹è·¯å¾„&quot;, &quot;line&quot;: è¡Œå·, &quot;code&quot;: &quot;åŒ¹é…çš„ä»£ç ç‰‡æ®µ&quot;, &quot;context&quot;: &quot;å‘¨å›´ 5 è¡Œä»£ç &quot;}]
    æç¤ºï¼šå…ˆæœç´¢åä¿®æ”¹ï¼Œé¿å…ç›²ç›®æ›´æ”¹
  &quot;&quot;&quot;</span>,
  <span class="s2">&quot;parameters&quot;</span>: {
    <span class="s2">&quot;query&quot;</span>: <span class="s2">&quot;str&quot;</span>,
    <span class="s2">&quot;search_type&quot;</span>: <span class="s2">&quot;enum[function_name, class_name, semantic, regex]&quot;</span>
  }
}

<span class="c1"># æµ‹è¯•æ‰§è¡Œå·¥å…·</span>
{
  <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;run_tests&quot;</span>,
  <span class="s2">&quot;description&quot;</span>: <span class="s2">&quot;&quot;&quot;
    è¿è¡Œæµ‹è¯•å¥—ä»¶å¹¶è¿”å›è¯¦ç»†ç»“æœã€‚
    æ‰§è¡Œæµç¨‹ï¼š
      1. å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
      2. è¿è¡ŒæŒ‡å®šæµ‹è¯•
      3. æ•è· stdout/stderr
      4. è§£æå¤±è´¥åŸå› 
    è¿”å›æ ¼å¼ï¼š
      {&quot;passed&quot;: 15, &quot;failed&quot;: 2, &quot;failures&quot;: [{&quot;test&quot;: &quot;...&quot;, &quot;error&quot;: &quot;...&quot;, &quot;traceback&quot;: &quot;...&quot;}]}
    æ³¨æ„ï¼šæµ‹è¯•å¤±è´¥æ˜¯æ­£å¸¸çš„ï¼Œç”¨å¤±è´¥ä¿¡æ¯æŒ‡å¯¼ä¸‹ä¸€æ­¥ä¿®å¤
  &quot;&quot;&quot;</span>,
  <span class="s2">&quot;parameters&quot;</span>: {
    <span class="s2">&quot;test_path&quot;</span>: <span class="s2">&quot;optional[str]&quot;</span>,  <span class="c1"># ä¸ºç©ºåˆ™è¿è¡Œæ‰€æœ‰æµ‹è¯•</span>
    <span class="s2">&quot;verbose&quot;</span>: <span class="s2">&quot;bool&quot;</span>
  }
}
</code></pre></div> <p><strong>çœŸå®æ€§èƒ½æ•°æ®</strong>ï¼ˆClaude 3.5 Sonnet on SWE-bench Verifiedï¼‰ï¼š</p>
<ul>
<li>æˆåŠŸè§£å†³ç‡ï¼š<strong>49 %</strong>ï¼ˆSWE-bench Verifiedï¼‰</li>
<li>å¹³å‡æ­¥æ•°ï¼š<strong>12-100+</strong> æ­¥</li>
<li>å¹³å‡ token æ¶ˆè€—ï¼š<strong>100k+</strong> tokens/ä»»åŠ¡</li>
<li>å…³é”®æˆåŠŸå› ç´ ï¼š</li>
<li>å·¥å…·æè¿°ä¼˜åŒ–ï¼ˆæå‡ ~20 %ï¼‰</li>
<li>è¿­ä»£æµ‹è¯•åé¦ˆï¼ˆæå‡ ~15 %ï¼‰</li>
<li>ä»£ç æœç´¢è´¨é‡ï¼ˆæå‡ ~10 %ï¼‰</li>
</ul>
<p><strong>äººç±»ç›‘ç£çš„é‡è¦æ€§</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># å¼ºåˆ¶äººç±»å®¡æŸ¥</span>
<span class="k">def</span> <span class="nf">submit_solution</span>(agent_solution):
    <span class="c1"># è‡ªåŠ¨æ£€æŸ¥</span>
    auto_checks = {
        <span class="s2">&quot;tests_pass&quot;</span>: run_tests(agent_solution),
        <span class="s2">&quot;no_security_issues&quot;</span>: security_scan(agent_solution),
        <span class="s2">&quot;code_quality&quot;</span>: lint_check(agent_solution)
    }

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span>(auto_checks.values()):
        <span class="k">return</span> <span class="s2">&quot;æ‹’ç»ï¼šæœªé€šè¿‡è‡ªåŠ¨æ£€æŸ¥&quot;</span>

    <span class="c1"># äººç±»å®¡æŸ¥</span>
    review = request_human_review({
        <span class="s2">&quot;changes&quot;</span>: agent_solution.diff,
        <span class="s2">&quot;reasoning&quot;</span>: agent_solution.explanation,
        <span class="s2">&quot;test_results&quot;</span>: auto_checks
    })

    <span class="k">if</span> review.approved:
        merge_to_main(agent_solution)
    <span class="k">else</span>:
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;æ‹’ç»ï¼š</span><span class="si">{</span>review<span class="o">.</span>feedback<span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div> <hr />
<h2 id="_5">å…­ã€æ¶æ„å†³ç­–æ£€æŸ¥æ¸…å•</h2>
<h3 id="_6">è®¾è®¡é˜¶æ®µ</h3>
<ul>
<li>[ ] <strong>é—®é¢˜å®šä¹‰</strong>ï¼šä»»åŠ¡æ˜¯å¦æ˜ç¡®å®šä¹‰äº†æˆåŠŸæ ‡å‡†ï¼Ÿ</li>
<li>[ ] <strong>å¤æ‚åº¦è¯„ä¼°</strong>ï¼šæ˜¯å¦å¯ç”¨å•æ¬¡ LLM è°ƒç”¨ + ä¼˜åŒ–æç¤ºè§£å†³ï¼Ÿ</li>
<li>[ ] <strong>æ¨¡å¼é€‰æ‹©</strong>ï¼šé€‰æ‹©çš„æ¶æ„æ¨¡å¼æ˜¯å¦æ˜¯æœ€ç®€å•çš„å¯è¡Œæ–¹æ¡ˆï¼Ÿ</li>
<li>[ ] <strong>å·¥å…·è§„åˆ’</strong>ï¼šæ˜¯å¦åˆ—å‡ºäº†å¿…éœ€å·¥å…·åŠå…¶æ¥å£ï¼Ÿ</li>
</ul>
<h3 id="_7">å®ç°é˜¶æ®µ</h3>
<ul>
<li>[ ] <strong>å·¥å…·æ–‡æ¡£</strong>ï¼šæ¯ä¸ªå·¥å…·æ˜¯å¦æœ‰è¯¦ç»†æè¿°ã€ç¤ºä¾‹å’Œå¤±è´¥æ¨¡å¼è¯´æ˜ï¼Ÿ</li>
<li>[ ] <strong>é”™è¯¯å¤„ç†</strong>ï¼šæ˜¯å¦å®ç°äº†é‡è¯•é€»è¾‘å’Œä¼˜é›…é™çº§ï¼Ÿ</li>
<li>[ ] <strong>åœæ­¢æ¡ä»¶</strong>ï¼šAgent å¾ªç¯æ˜¯å¦æœ‰æ˜ç¡®çš„é€€å‡ºæ¡ä»¶ï¼ˆæˆåŠŸ + å¤±è´¥ï¼‰ï¼Ÿ</li>
<li>[ ] <strong>å¯è§‚æµ‹æ€§</strong>ï¼šæ˜¯å¦è®°å½•äº† Agent æ¨ç†ã€å·¥å…·è°ƒç”¨å’Œç»“æœï¼Ÿ</li>
</ul>
<h3 id="_8">æµ‹è¯•é˜¶æ®µ</h3>
<ul>
<li>[ ] <strong>å•å…ƒæµ‹è¯•</strong>ï¼šå·¥å…·æ˜¯å¦ç‹¬ç«‹æµ‹è¯•ï¼Ÿ</li>
<li>[ ] <strong>é›†æˆæµ‹è¯•</strong>ï¼šAgent æ˜¯å¦åœ¨çœŸå®åœºæ™¯ä¸­æµ‹è¯•ï¼Ÿ</li>
<li>[ ] <strong>å¤±è´¥æ¡ˆä¾‹</strong>ï¼šæ˜¯å¦æ”¶é›†å¹¶åˆ†æäº†å¤±è´¥æ¡ˆä¾‹ï¼Ÿ</li>
<li>[ ] <strong>æˆæœ¬åˆ†æ</strong>ï¼štoken æ¶ˆè€—æ˜¯å¦åœ¨é¢„ç®—å†…ï¼Ÿ</li>
</ul>
<h3 id="_9">éƒ¨ç½²é˜¶æ®µ</h3>
<ul>
<li>[ ] <strong>äººç±»ç›‘ç£</strong>ï¼šé«˜é£é™©æ“ä½œæ˜¯å¦éœ€è¦äººå·¥å®¡æ‰¹ï¼Ÿ</li>
<li>[ ] <strong>å›æ»šæœºåˆ¶</strong>ï¼šæ˜¯å¦å¯å¿«é€Ÿå›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬ï¼Ÿ</li>
<li>[ ] <strong>ç›‘æ§å‘Šè­¦</strong>ï¼šæ˜¯å¦ç›‘æ§æˆåŠŸç‡ã€å»¶è¿Ÿã€æˆæœ¬ï¼Ÿ</li>
<li>[ ] <strong>ç”¨æˆ·åé¦ˆ</strong>ï¼šæ˜¯å¦æ”¶é›†ç”¨æˆ·å¯¹ Agent è¡¨ç°çš„åé¦ˆï¼Ÿ</li>
</ul>
<hr />
<h2 id="_10">ä¸ƒã€åæ¨¡å¼è­¦å‘Š</h2>
<h3 id="1-agent_1">åæ¨¡å¼ 1ï¼šè¿‡æ—©ä¼˜åŒ–ä¸ºè‡ªä¸» Agent</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ é”™è¯¯ï¼šä»å¤æ‚ Agent å¼€å§‹</span>
<span class="k">class</span> <span class="nc">ComplexAgent</span>:
    <span class="k">def</span> <span class="fm">__init__</span>(<span class="bp">self</span>):
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">VectorDatabase</span>()
        <span class="bp">self</span><span class="o">.</span><span class="n">planner</span> <span class="o">=</span> <span class="n">HierarchicalPlanner</span>()
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span> <span class="o">=</span> <span class="n">ToolRegistry</span>()
        <span class="c1"># ...</span>
        <span class="c1"># æ•°ç™¾è¡Œä»£ç </span>

<span class="c1"># âœ… æ­£ç¡®ï¼šä»æç¤ºé“¾å¼€å§‹</span>
<span class="k">def</span> <span class="nf">simple_workflow</span>(<span class="n">task</span>):
    <span class="n">step1</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;åˆ†æï¼š</span><span class="si">{</span><span class="n">task</span><span class="si">}</span><span class="s2">&quot;</span>)
    <span class="n">step2</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">call</span>(<span class="sa">f</span><span class="s2">&quot;åŸºäºåˆ†æç”Ÿæˆæ–¹æ¡ˆï¼š</span><span class="si">{</span><span class="n">step1</span><span class="si">}</span><span class="s2">&quot;</span>)
    <span class="k">return</span> <span class="n">step2</span>
</code></pre></div> <h3 id="2_1">åæ¨¡å¼ 2ï¼šå¿½è§†æˆæœ¬å’Œå»¶è¿Ÿ</h3>
<div class="codehilite"><pre><span></span><code># âŒ é”™è¯¯ï¼šæ— é™å¾ªç¯ + å¤§æ¨¡å‹
while not perfect(result): result = llm.call(task, model=&quot;opus&quot;) # æ˜‚è´µï¼ # âœ… æ­£ç¡®ï¼šåˆ†å±‚æ¨¡å‹é€‰æ‹©
router_result = llm.call(task, model=&quot;haiku&quot;) # å¿«é€Ÿè·¯ç”±
if needs_deep_analysis(router_result): result = llm.call(task, model=&quot;sonnet&quot;) # ä»…å¿…è¦æ—¶ç”¨å¤§æ¨¡å‹
</code></pre></div> <h3 id="3_1">åæ¨¡å¼ 3ï¼šå·¥å…·æè¿°ä¸è¶³</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ é”™è¯¯ï¼šæœ€å°åŒ–æ–‡æ¡£</span>
<span class="n">tools</span> <span class="o">=</span> [{
    <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;search&quot;</span>,
    <span class="s2">&quot;params&quot;</span>: {<span class="s2">&quot;q&quot;</span>: <span class="s2">&quot;str&quot;</span>}
}]

<span class="c1"># âœ… æ­£ç¡®ï¼šè¯¦ç»†æ–‡æ¡£</span>
<span class="n">tools</span> <span class="o">=</span> [{
    <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;search_customer_database&quot;</span>,
    <span class="s2">&quot;description&quot;</span>: <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        æœç´¢å®¢æˆ·æ•°æ®åº“ï¼ˆé™å½“å‰ç”¨æˆ·æƒé™èŒƒå›´ï¼‰ã€‚</span>
<span class="s2">        æŸ¥è¯¢è¯­æ³•ï¼š</span>
<span class="s2">        - ç²¾ç¡®åŒ¹é…ï¼š&#39;email:&quot;user@example.com&quot;&#39;</span>
<span class="s2">        - æ¨¡ç³ŠåŒ¹é…ï¼š&#39;name:John&#39;</span>
<span class="s2">        - æ—¥æœŸèŒƒå›´ï¼š&#39;created:[2024-01-01 TO 2024-12-31]&#39;</span>
<span class="s2">        è¿”å›ï¼šæœ€å¤š 50 æ¡ç»“æœï¼ŒæŒ‰ç›¸å…³æ€§æ’åº</span>
<span class="s2">        ç¤ºä¾‹ï¼šsearch_customer_database(q=&#39;status:active AND created:[2024-01-01 TO *]&#39;)</span>
<span class="s2">    &quot;&quot;&quot;</span>,
    <span class="s2">&quot;parameters&quot;</span>: {...}
}]
</code></pre></div> <h3 id="4-agent">åæ¨¡å¼ 4ï¼šéšè— Agent å†³ç­–</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ é”™è¯¯ï¼šé»‘ç›’æ‰§è¡Œ</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">agent</span><span class="o">.</span><span class="n">execute</span>(<span class="n">task</span>)


<span class="c1"># âœ… æ­£ç¡®ï¼šé€æ˜æµç¨‹</span>
<span class="k">def</span> <span class="nf">transparent_agent</span>(<span class="n">task</span>):
    <span class="nb">print</span>(<span class="sa">f</span><span class="s2">&quot;ğŸ“‹ ä»»åŠ¡ï¼š</span><span class="si">{</span><span class="n">task</span><span class="si">}</span><span class="s2">&quot;</span>)

    <span class="n">plan</span> <span class="o">=</span> <span class="n">create_plan</span>(<span class="n">task</span>)
    <span class="nb">print</span>(<span class="sa">f</span><span class="s2">&quot;ğŸ“ è®¡åˆ’ï¼š\n</span><span class="si">{</span><span class="n">format_plan</span>(<span class="n">plan</span>)<span class="si">}</span><span class="s2">&quot;</span>)

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">plan</span>:
        <span class="nb">print</span>(<span class="sa">f</span><span class="s2">&quot;âš™ï¸ æ‰§è¡Œï¼š</span><span class="si">{</span><span class="n">step</span><span class="si">}</span><span class="s2">&quot;</span>)
        <span class="n">result</span> <span class="o">=</span> <span class="n">execute_step</span>(<span class="n">step</span>)
        <span class="nb">print</span>(<span class="sa">f</span><span class="s2">&quot;âœ… å®Œæˆï¼š</span><span class="si">{</span><span class="n">summarize</span>(<span class="n">result</span>)<span class="si">}</span><span class="s2">&quot;</span>)

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div> <hr />
<h2 id="_11">å…«ã€å…³é”®æ¶æ„æƒè¡¡çŸ©é˜µ</h2>
<table>
<thead>
<tr>
<th>å†³ç­–ç»´åº¦</th>
<th>Workflows</th>
<th>Agents</th>
<th>æ¨èé€‰æ‹©</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å¯é¢„æµ‹æ€§éœ€æ±‚</strong></td>
<td>é«˜ âœ…</td>
<td>ä½ âŒ</td>
<td>é‡‘è/åŒ»ç–— â†’ Workflows</td>
</tr>
<tr>
<td><strong>ä»»åŠ¡å¤šæ ·æ€§</strong></td>
<td>ä½ âŒ</td>
<td>é«˜ âœ…</td>
<td>å¼€æ”¾åŸŸä»»åŠ¡ â†’ Agents</td>
</tr>
<tr>
<td><strong>è°ƒè¯•è¦æ±‚</strong></td>
<td>æ˜“ âœ…</td>
<td>éš¾ âŒ</td>
<td>ç”Ÿäº§ç³»ç»Ÿ â†’ Workflows</td>
</tr>
<tr>
<td><strong>å¼€å‘é€Ÿåº¦</strong></td>
<td>å¿« âœ…</td>
<td>æ…¢ âŒ</td>
<td>MVP â†’ Workflows</td>
</tr>
<tr>
<td><strong>è¿è¡Œæˆæœ¬</strong></td>
<td>ä½ âœ…</td>
<td>é«˜ âŒ</td>
<td>é¢„ç®—ç´§å¼  â†’ Workflows</td>
</tr>
<tr>
<td><strong>é€‚åº”æ€§</strong></td>
<td>ä½ âŒ</td>
<td>é«˜ âœ…</td>
<td>åŠ¨æ€ç¯å¢ƒ â†’ Agents</td>
</tr>
</tbody>
</table>
<p><strong>é»„é‡‘æ³•åˆ™</strong>ï¼šä» Workflows å¼€å§‹ï¼Œä»…åœ¨è¯æ˜å¿…è¦æ€§åå‡çº§ä¸º Agentsã€‚</p>
<hr />
<h2 id="anthropic-agent">ä¹ã€æ€»ç»“ï¼šAnthropic çš„ Agent è®¾è®¡å“²å­¦</h2>
<h3 id="_12">æ ¸å¿ƒç†å¿µ</h3>
<ol>
<li>
<p><strong>ç®€æ´ä¼˜äºå¤æ‚</strong> "æˆåŠŸä¸åœ¨äºæ„å»ºæœ€å¤æ‚çš„ç³»ç»Ÿï¼Œè€Œåœ¨äºæ„å»ºæœ€åˆé€‚çš„ç³»ç»Ÿ"</p>
</li>
<li>
<p><strong>æ¸è¿›å¼å¢å¼º</strong> ä¼˜åŒ–æç¤º â†’ æç¤ºé“¾ â†’ å¹¶è¡ŒåŒ– â†’ ç¼–æ’ â†’ è‡ªä¸» Agent</p>
</li>
<li>
<p><strong>é€æ˜æ€§å³ä¿¡ä»»</strong> å±•ç¤ºæ¨ç†è¿‡ç¨‹ï¼Œè®©ç”¨æˆ·ç†è§£ Agent çš„å†³ç­–</p>
</li>
<li>
<p><strong>å·¥å…·å³è¯­è¨€</strong> å·¥å…·æè¿°æ˜¯åµŒå…¥å¼æç¤ºå·¥ç¨‹ï¼Œå½±å“ Agent è¡Œä¸º</p>
</li>
<li>
<p><strong>éªŒè¯ä¼˜äºä¿¡ä»»</strong> é€šè¿‡æµ‹è¯•ã€äººç±»å®¡æŸ¥ã€ç›‘æ§ç¡®ä¿ Agent å¯é æ€§</p>
</li>
</ol>
<h3 id="_13">å®è·µå»ºè®®</h3>
<ul>
<li><strong>å¼€å§‹</strong>ï¼šç”¨ LLM API ç›´æ¥æ„å»ºï¼Œä¸è¦è¿‡æ—©å¼•å…¥æ¡†æ¶</li>
<li><strong>æµ‹è¯•</strong>ï¼šåœ¨çœŸå®ä»»åŠ¡ä¸ŠéªŒè¯ï¼Œè€Œéåˆæˆ benchmark</li>
<li><strong>è¿­ä»£</strong>ï¼šåˆ†æå¤±è´¥æ¡ˆä¾‹ï¼ŒæŒç»­ä¼˜åŒ–å·¥å…·æè¿°</li>
<li><strong>ç›‘æ§</strong>ï¼šè¿½è¸ªæˆåŠŸç‡ã€æˆæœ¬ã€å»¶è¿Ÿï¼Œå»ºç«‹å‘Šè­¦</li>
<li><strong>äººæœºåä½œ</strong>ï¼šé«˜é£é™©å†³ç­–ä¿ç•™äººç±»ç›‘ç£</li>
</ul>
<h3 id="_14">æœªæ¥å±•æœ›</h3>
<p>éšç€ LLM èƒ½åŠ›æå‡ï¼ˆæ›´å¤§ä¸Šä¸‹æ–‡ã€æ›´å¼ºæ¨ç†ï¼‰ï¼ŒAgent æ¶æ„å°†ï¼š</p>
<ul>
<li>æ›´å¤æ‚çš„ä»»åŠ¡å¯ç”¨ç®€å•æ¨¡å¼è§£å†³</li>
<li>è‡ªä¸» Agent çš„å¯é æ€§æå‡</li>
<li>å·¥å…·ä½¿ç”¨æ›´é«˜æ•ˆï¼ˆæ›´å°‘è¯•é”™ï¼‰</li>
</ul>
<p><strong>ä½†æ ¸å¿ƒä¸å˜</strong>ï¼šç®€æ´æ€§ã€é€æ˜æ€§ã€éªŒè¯ä¼˜å…ˆçš„è®¾è®¡åŸåˆ™ã€‚</p>
<hr />
<p><strong>è‡´è°¢</strong></p>
<p>æœ¬æ–‡ç”± Erik Schluntz å’Œ Barry Zhang æ’°å†™ï¼Œæ˜¯ Anthropic å›¢é˜ŸåŸºäºæ•°åƒä¸ªç”Ÿäº§ Agent ç³»ç»Ÿçš„å®è·µæ€»ç»“ã€‚</p>
        
        </article>

        <footer>
            <p style="margin-bottom: 16px;">
                <a href="index.html" style="color: var(--secondary-color); font-weight: 600; text-decoration: none; border-bottom: 2px solid var(--secondary-color);">â† è¿”å›ç´¢å¼•</a>
            </p>
            <p>æœ¬æ–‡æ¡£åŸºäº Anthropic å®˜æ–¹å·¥ç¨‹åšå®¢æ•´ç†ã€‚</p>
            <div class="footer-links">
                <a href="https://www.anthropic.com/engineering" target="_blank">Anthropic Engineering Blog</a>
                <a href="https://docs.anthropic.com" target="_blank">Claude å®˜æ–¹æ–‡æ¡£</a>
                <a href="https://github.com/anthropics/claude-code" target="_blank">Claude Code GitHub</a>
            </div>
            <p style="margin-top: 16px; font-size: 0.85rem;">
                ç”Ÿæˆæ—¶é—´ï¼š2026-02-10 09:11:17<br>
                ç”± <strong>Claude Code Agent Skill</strong> è‡ªåŠ¨ç”Ÿæˆ
            </p>
        </footer>
    </div>

    <!-- å¯¼èˆªå’Œè¿›åº¦æ¡äº¤äº’ -->
    <script>
        // é˜…è¯»è¿›åº¦æ¡
        function updateReadingProgress() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('reading-progress').style.width = scrolled + '%';

            // æ›´æ–°å›é¡¶æŒ‰é’®çš„åœ†å½¢è¿›åº¦ç¯
            const progressRing = document.querySelector('.progress-ring-progress');
            if (progressRing) {
                const circumference = 2 * Math.PI * 26; // r=26
                const offset = circumference - (scrolled / 100) * circumference;
                progressRing.style.strokeDashoffset = offset;
            }
        }

        // å›é¡¶æŒ‰é’®æ˜¾ç¤º/éšè—
        function updateBackToTopButton() {
            const backToTop = document.getElementById('back-to-top');
            if (window.pageYOffset > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }

        // å¹³æ»‘æ»šåŠ¨åˆ°é¡¶éƒ¨
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // äº‹ä»¶ç›‘å¬
        window.addEventListener('scroll', function() {
            updateReadingProgress();
            updateBackToTopButton();
        });

        document.getElementById('back-to-top').addEventListener('click', scrollToTop);

        // åˆå§‹åŒ–
        updateReadingProgress();
        updateBackToTopButton();
    </script>

    <!-- Mermaid.js for flowcharts and diagrams -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#CC785C',
                primaryTextColor: '#2D2D2D',
                primaryBorderColor: '#E5E5E5',
                lineColor: '#666',
                secondaryColor: '#F5F2ED',
                tertiaryColor: '#FAFAF8'
            }
        });
    </script>
</body>
</html>
